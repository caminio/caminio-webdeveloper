/*! caminio-calendar 2014-07-01 
* Copyright (c) 2014 <YOUR COMPANY HERE> 
* Available via the MIT license.
* see: http://opensource.org/licenses/MIT for blueprint.
*/
function setupDateTimepickers(a){$("#dp-start").datepicker(dpOptions).on("changeDate.datepicker",function(b){var c=moment(b.date),d=$("#tp-start").val().split(":");c.hour(d[0]),c.minute(d[0]),a.set("start",new Date(c.toISOString()));var e=moment(a.get("end"));c.clone().startOf("day")>e.clone().startOf("day")&&(e.set("year",c.year()),e.set("month",c.month()),e.set("date",c.date()),a.set("end",new Date(e.toISOString())),$("#dp-end").datepicker("setDate",a.get("end")))}).datepicker("setDate",a.get("start")),$("#tp-start").timepicker().on("changeTime.timepicker",function(b){var c=moment(a.get("start"));if(c.hour(b.time.hours),c.minute(b.time.minutes),a.set("start",new Date(c.toISOString())),dpStartInit++){var d=moment(a.get("end")),e=c.clone().add("m",120);c.hour()>=23?(d.hour(23),d.minute(59)):(d.hour(e.hour()),d.minute(e.minute())),a.set("end",new Date(d.toISOString())),$("#tp-end").timepicker("setTime",a.get("end"))}}).timepicker("setTime",a.get("start")),$("#dp-end").datepicker(dpOptions).on("changeDate.datepicker",function(b){var c=moment(b.date),d=$("#tp-end").val().split(":");c.hour(d[0]),c.minute(d[0]),a.set("end",new Date(c.toISOString()))}).datepicker("setDate",a.get("end")),$("#tp-end").timepicker().on("changeTime.timepicker",function(b){var c=moment(a.get("end"));"0"===b.time.hours?(c.hour(23),c.minute(59)):(c.hour(b.time.hours),c.minute(b.time.minutes)),a.set("end",new Date(c.toISOString()))}).timepicker("setTime",a.get("end"))}function setupLabelSelect(a){function b(a){return'<span class="color" data-private="'+a.private+'" style="'+a.cssStyles+'"></span><span>'+a.text+"</span>"}$.getJSON("/caminio/labels",{type:"regexp(/calendar|project/)"}).done(function(c){var d=[];c.labels.forEach(function(a){d.push({text:a.name,"private":a.private,id:a._id,cssStyles:"background-color:"+a.bgColor+"; color:"+a.fgColor})}),$("#label-select").select2({data:d,escapeMarkup:function(a){return a},formatResult:b,formatSelection:b}).on("change",function(b){a.set("label",b.val)}).select2("val",a.get("label"))})}window.caminio=caminio||{},caminio.calendar=caminio.calendar||{},caminio.calendar.getLabelColors=function(){var a="";return[{bgc:"#428BCA",bc:"#26a",fgc:"#fff"},{bgc:"#F0AD4E",bc:"#c82",fgc:"#333a3a"},{bgc:"#1CAF9A",bc:"#087",fgc:"#fff"},{bgc:"#D9534F",bc:"#b32",fgc:"#fff"},{bgc:"#1d2939",bc:"#001",fgc:"#fff"}].forEach(function(b){a+='<span class="color" data-fg-color="'+b.fgc+'" data-bg-color="'+b.bgc+'" data-border-color="'+b.bc+'"style="background-color:'+b.bgc+"; color:"+b.fgc+"; border-color: "+b.bc+';"></span>'}),a},caminio.calendar.getLabelBoxes=function(){var a="";return App.User.store.all("label").content.forEach(function(b){a+='<span class="color" data-private="'+b.get("private")+'" data-id="'+b.id+'" title="'+b.get("name")+'" style="background-color:'+b.get("bgColor")+"; color:"+b.get("fgColor")+"; border-color: "+b.get("borderColor")+';"></span>'}),a},function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a){return function(){return this[a].apply(this,arguments)}}function f(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function g(b){var c={};if(o[b]||(b=b.split("-")[0],o[b])){var d=o[b];return a.each(n,function(a,b){b in d&&(c[b]=d[b])}),c}}var h=a(window),i=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;d>c;c++)if(this[c].valueOf()===b)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.splice(0)},copy:function(){var a=new i;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),j=function(b,c){this.dates=new i,this.viewDate=d(),this.focusDate=null,this._process_options(c),this.element=a(b),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=a(p.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};j.prototype={constructor:j,_process_options:function(b){this._o=a.extend({},this._o,b);var c=this.o=a.extend({},this._o),d=c.language;switch(o[d]||(d=d.split("-")[0],o[d]||(d=m.language)),c.language=d,c.startView){case 2:case"decade":c.startView=2;break;case 1:case"year":c.startView=1;break;default:c.startView=0}switch(c.minViewMode){case 1:case"months":c.minViewMode=1;break;case 2:case"years":c.minViewMode=2;break;default:c.minViewMode=0}c.startView=Math.max(c.startView,c.minViewMode),c.multidate!==!0&&(c.multidate=Number(c.multidate)||!1,c.multidate=c.multidate!==!1?Math.max(0,c.multidate):1),c.multidateSeparator=String(c.multidateSeparator),c.weekStart%=7,c.weekEnd=(c.weekStart+6)%7;var e=p.parseFormat(c.format);c.startDate!==-1/0&&(c.startDate=c.startDate?c.startDate instanceof Date?this._local_to_utc(this._zero_time(c.startDate)):p.parseDate(c.startDate,e,c.language):-1/0),1/0!==c.endDate&&(c.endDate=c.endDate?c.endDate instanceof Date?this._local_to_utc(this._zero_time(c.endDate)):p.parseDate(c.endDate,e,c.language):1/0),c.daysOfWeekDisabled=c.daysOfWeekDisabled||[],a.isArray(c.daysOfWeekDisabled)||(c.daysOfWeekDisabled=c.daysOfWeekDisabled.split(/[,\s]*/)),c.daysOfWeekDisabled=a.map(c.daysOfWeekDisabled,function(a){return parseInt(a,10)});var f=String(c.orientation).toLowerCase().split(/\s+/g),g=c.orientation.toLowerCase();if(f=a.grep(f,function(a){return/^auto|left|right|top|bottom$/.test(a)}),c.orientation={x:"auto",y:"auto"},g&&"auto"!==g)if(1===f.length)switch(f[0]){case"top":case"bottom":c.orientation.y=f[0];break;case"left":case"right":c.orientation.x=f[0]}else g=a.grep(f,function(a){return/^left|right$/.test(a)}),c.orientation.x=g[0]||"auto",g=a.grep(f,function(a){return/^top|bottom$/.test(a)}),c.orientation.y=g[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return p.formatDate(c,b,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(a){return a&&new Date(a.getTime()+6e4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,b),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a.map(b,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:e("setDates"),setUTCDate:e("setUTCDates"),setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a).change():this.component&&this.element.find("input").val(a).change()},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return p.formatDate(a,c,d)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({startDate:a}),this.update(),this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=10,e=h.width(),f=h.height(),g=h.scrollTop(),i=parseInt(this.element.parents().filter(function(){return"auto"!==a(this).css("z-index")}).first().css("z-index"))+10,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left,n=j.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(m-=b-l)):(this.picker.addClass("datepicker-orient-left"),j.left<0?m-=j.left-d:j.left+b>e&&(m=e-b-d));var o,p,q=this.o.orientation.y;"auto"===q&&(o=-g+j.top-c,p=g+f-(j.top+k+c),q=Math.max(o,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+q),"top"===q?n+=k:n-=c+parseInt(this.picker.css("padding-top")),this.picker.css({top:n,left:m,zIndex:i})}},_allow_update:!0,update:function(){if(this._allow_update){var b=this.dates.copy(),c=[],d=!1;arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return p.parseDate(a,this.o.format,this.o.language)},this)),c=a.grep(c,a.proxy(function(a){return a<this.o.startDate||a>this.o.endDate||!a},this),!0),this.dates.replace(c),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&b.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";if(this.o.calendarWeeks){var c='<th class="cw">&nbsp;</th>';b+=c,this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}for(;a<this.o.weekStart+7;)b+='<th class="dow">'+o[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+o[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&b.getUTCFullYear()===f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push("today"),-1!==this.dates.contains(b)&&c.push("active"),(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&c.push("disabled"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected")),c},fill:function(){var d,e=new Date(this.viewDate),f=e.getUTCFullYear(),g=e.getUTCMonth(),h=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,i=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,j=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,k=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,l=o[this.o.language].today||o.en.today||"",m=o[this.o.language].clear||o.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(o[this.o.language].months[g]+" "+f),this.picker.find("tfoot th.today").text(l).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(m).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var n=c(f,g-1,28),q=p.getDaysInMonth(n.getUTCFullYear(),n.getUTCMonth());n.setUTCDate(q),n.setUTCDate(q-(n.getUTCDay()-this.o.weekStart+7)%7);var r=new Date(n);r.setUTCDate(r.getUTCDate()+42),r=r.valueOf();for(var s,t=[];n.valueOf()<r;){if(n.getUTCDay()===this.o.weekStart&&(t.push("<tr>"),this.o.calendarWeeks)){var u=new Date(+n+(this.o.weekStart-n.getUTCDay()-7)%7*864e5),v=new Date(Number(u)+(11-u.getUTCDay())%7*864e5),w=new Date(Number(w=c(v.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),x=(v-w)/864e5/7+1;t.push('<td class="cw">'+x+"</td>")}if(s=this.getClassNames(n),s.push("day"),this.o.beforeShowDay!==a.noop){var y=this.o.beforeShowDay(this._utc_to_local(n));y===b?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),y.enabled===!1&&s.push("disabled"),y.classes&&(s=s.concat(y.classes.split(/\s+/))),y.tooltip&&(d=y.tooltip)}s=a.unique(s),t.push('<td class="'+s.join(" ")+'"'+(d?' title="'+d+'"':"")+">"+n.getUTCDate()+"</td>"),n.getUTCDay()===this.o.weekEnd&&t.push("</tr>"),n.setUTCDate(n.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(t.join(""));var z=this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active");a.each(this.dates,function(a,b){b.getUTCFullYear()===f&&z.eq(b.getUTCMonth()).addClass("active")}),(h>f||f>j)&&z.addClass("disabled"),f===h&&z.slice(0,i).addClass("disabled"),f===j&&z.slice(k+1).addClass("disabled"),t="",f=10*parseInt(f/10,10);var A=this.picker.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).end().find("td");f-=1;for(var B,C=a.map(this.dates,function(a){return a.getUTCFullYear()}),D=-1;11>D;D++)B=["year"],-1===D?B.push("old"):10===D&&B.push("new"),-1!==a.inArray(f,C)&&B.push("active"),(h>f||f>j)&&B.push("disabled"),t+='<span class="'+B.join(" ")+'">'+f+"</span>",f+=1;A.html(t)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(b){b.preventDefault();var d,e,f,g=a(b.target).closest("span, td, th");if(1===g.length)switch(g[0].nodeName.toLowerCase()){case"th":switch(g[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var h=p.modes[this.viewMode].navStep*("prev"===g[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var i=new Date;i=c(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0),this.showMode(-2);var j="linked"===this.o.todayBtn?null:"view";this._setDate(i,j);break;case"clear":var k;this.isInput?k=this.element:this.component&&(k=this.element.find("input")),k&&k.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":g.is(".disabled")||(this.viewDate.setUTCDate(1),g.is(".month")?(f=1,e=g.parent().find("span").index(g),d=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(e),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(c(d,e,f))):(f=1,e=0,d=parseInt(g.text(),10)||0,this.viewDate.setUTCFullYear(d),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(d,e,f))),this.showMode(-1),this.fill());break;case"td":g.is(".day")&&!g.is(".disabled")&&(f=parseInt(g.text(),10)||1,d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),g.is(".old")?0===e?(e=11,d-=1):e-=1:g.is(".new")&&(11===e?(e=0,d+=1):e+=1),this._setDate(c(d,e,f)))}this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a?-1!==b?this.dates.remove(b):this.dates.push(a):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a)),b&&"view"!==b||(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.change(),!this.o.autoclose||b&&"date"!==b||this.hide()},moveMonth:function(a,c){if(!a)return b;if(!c)return a;var d,e,f=new Date(a.valueOf()),g=f.getUTCDate(),h=f.getUTCMonth(),i=Math.abs(c);if(c=c>0?1:-1,1===i)e=-1===c?function(){return f.getUTCMonth()===h}:function(){return f.getUTCMonth()!==d},d=h+c,f.setUTCMonth(d),(0>d||d>11)&&(d=(d+12)%12);else{for(var j=0;i>j;j++)f=this.moveMonth(f,c);d=f.getUTCMonth(),f.setUTCDate(g),e=function(){return d!==f.getUTCMonth()}}for(;e();)f.setUTCDate(--g),f.setUTCMonth(d);return f},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))return void(27===a.keyCode&&this.show());var b,c,e,f=!1,g=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;b=37===a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.dates.get(-1)||d(),b),e=this.moveYear(g,b),this._trigger("changeYear",this.viewDate)):a.shiftKey?(c=this.moveMonth(this.dates.get(-1)||d(),b),e=this.moveMonth(g,b),this._trigger("changeMonth",this.viewDate)):(c=new Date(this.dates.get(-1)||d()),c.setUTCDate(c.getUTCDate()+b),e=new Date(g),e.setUTCDate(g.getUTCDate()+b)),this.dateWithinRange(c)&&(this.focusDate=this.viewDate=e,this.setValue(),this.fill(),a.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;b=38===a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.dates.get(-1)||d(),b),e=this.moveYear(g,b),this._trigger("changeYear",this.viewDate)):a.shiftKey?(c=this.moveMonth(this.dates.get(-1)||d(),b),e=this.moveMonth(g,b),this._trigger("changeMonth",this.viewDate)):(c=new Date(this.dates.get(-1)||d()),c.setUTCDate(c.getUTCDate()+7*b),e=new Date(g),e.setUTCDate(g.getUTCDate()+7*b)),this.dateWithinRange(c)&&(this.focusDate=this.viewDate=e,this.setValue(),this.fill(),a.preventDefault());break;case 32:break;case 13:g=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(g),f=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(f){this._trigger(this.dates.length?"changeDate":"clearDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.change()}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var k=function(b,c){this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,a(this.inputs).datepicker(c).bind("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};k.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){this.updating=!0;var c=a(b.target).data("datepicker"),d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=this.inputs.length;if(-1!==e){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(d)}),d<this.dates[e])for(;e>=0&&d<this.dates[e];)this.pickers[e--].setUTCDate(d);else if(d>this.dates[e])for(;f>e&&d>this.dates[e];)this.pickers[e++].setUTCDate(d);this.updateDates(),delete this.updating}}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var l=a.fn.datepicker;a.fn.datepicker=function(c){var d=Array.apply(null,arguments);d.shift();var e;return this.each(function(){var h=a(this),i=h.data("datepicker"),l="object"==typeof c&&c;if(!i){var n=f(this,"date"),o=a.extend({},m,n,l),p=g(o.language),q=a.extend({},m,p,n,l);if(h.is(".input-daterange")||q.inputs){var r={inputs:q.inputs||h.find("input").toArray()};h.data("datepicker",i=new k(this,a.extend(q,r)))}else h.data("datepicker",i=new j(this,q))}return"string"==typeof c&&"function"==typeof i[c]&&(e=i[c].apply(i,d),e!==b)?!1:void 0}),e!==b?e:this};var m=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},n=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=j;var o=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,p.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(d,e,f){function g(){var a=this.slice(0,m[k].length),b=m[k].slice(0,a.length);return a===b}if(!d)return b;if(d instanceof Date)return d;"string"==typeof e&&(e=p.parseFormat(e));var h,i,k,l=/([\-+]\d+)([dmwy])/,m=d.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(d)){for(d=new Date,k=0;k<m.length;k++)switch(h=l.exec(m[k]),i=parseInt(h[1]),h[2]){case"d":d.setUTCDate(d.getUTCDate()+i);break;case"m":d=j.prototype.moveMonth.call(j.prototype,d,i);break;case"w":d.setUTCDate(d.getUTCDate()+7*i);break;case"y":d=j.prototype.moveYear.call(j.prototype,d,i)}return c(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,0)}m=d&&d.match(this.nonpunctuation)||[],d=new Date;var n,q,r={},s=["yyyy","yy","M","MM","m","mm","d","dd"],t={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};t.M=t.MM=t.mm=t.m,t.dd=t.d,d=c(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);var u=e.parts.slice();if(m.length!==u.length&&(u=a(u).filter(function(b,c){return-1!==a.inArray(c,s)}).toArray()),m.length===u.length){var v;for(k=0,v=u.length;v>k;k++){if(n=parseInt(m[k],10),h=u[k],isNaN(n))switch(h){case"MM":q=a(o[f].months).filter(g),n=a.inArray(q[0],o[f].months)+1;break;case"M":q=a(o[f].monthsShort).filter(g),n=a.inArray(q[0],o[f].monthsShort)+1}r[h]=n}var w,x;for(k=0;k<s.length;k++)x=s[k],x in r&&!isNaN(r[x])&&(w=new Date(d),t[x](w,r[x]),isNaN(w)||(d=w))}return d},formatDate:function(b,c,d){if(!b)return"";"string"==typeof c&&(c=p.parseFormat(c));var e={d:b.getUTCDate(),D:o[d].daysShort[b.getUTCDay()],DD:o[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:o[d].monthsShort[b.getUTCMonth()],MM:o[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;h>=g;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+p.headTemplate+"<tbody></tbody>"+p.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=p,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=l,this},a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),c.datepicker("show"))}),a(function(){a('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(a){a.fn.datepicker.dates.ar={days:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"],daysShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت","أحد"],daysMin:["ح","ن","ث","ع","خ","ج","س","ح"],months:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthsShort:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],today:"هذا اليوم",rtl:!0}}(jQuery),function(a){a.fn.datepicker.dates.az={days:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə","Bazar"],daysShort:["B.","B.e","Ç.a","Ç.","C.a","C.","Ş.","B."],daysMin:["B.","B.e","Ç.a","Ç.","C.a","C.","Ş.","B."],months:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","İyun","İyul","Avq","Sen","Okt","Noy","Dek"],today:"Bu gün",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.bg={days:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота","Неделя"],daysShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб","Нед"],daysMin:["Н","П","В","С","Ч","П","С","Н"],months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthsShort:["Ян","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],today:"днес"}}(jQuery),function(a){a.fn.datepicker.dates.ca={days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte","Diumenge"],daysShort:["Diu","Dil","Dmt","Dmc","Dij","Div","Dis","Diu"],daysMin:["dg","dl","dt","dc","dj","dv","ds","dg"],months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],today:"Avui"}}(jQuery),function(a){a.fn.datepicker.dates.cs={days:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota","Neděle"],daysShort:["Ned","Pon","Úte","Stř","Čtv","Pát","Sob","Ned"],daysMin:["Ne","Po","Út","St","Čt","Pá","So","Ne"],months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthsShort:["Led","Úno","Bře","Dub","Kvě","Čer","Čnc","Srp","Zář","Říj","Lis","Pro"],today:"Dnes"}}(jQuery),function(a){a.fn.datepicker.dates.cy={days:["Sul","Llun","Mawrth","Mercher","Iau","Gwener","Sadwrn","Sul"],daysShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad","Sul"],daysMin:["Su","Ll","Ma","Me","Ia","Gwe","Sa","Su"],months:["Ionawr","Chewfror","Mawrth","Ebrill","Mai","Mehefin","Gorfennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthsShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rha"],today:"Heddiw"}
}(jQuery),function(a){a.fn.datepicker.dates.da={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag",clear:"Nulstil"}}(jQuery),function(a){a.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",clear:"Löschen",weekStart:1,format:"dd.mm.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.el={days:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο","Κυριακή"],daysShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ","Κυρ"],daysMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα","Κυ"],months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthsShort:["Ιαν","Φεβ","Μαρ","Απρ","Μάι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],today:"Σήμερα"}}(jQuery),function(a){a.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"}}(jQuery),function(a){a.fn.datepicker.dates.et={days:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev","Pühapäev"],daysShort:["Pühap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup","Pühap"],daysMin:["P","E","T","K","N","R","L","P"],months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthsShort:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],today:"Täna",clear:"Tühjenda",weekStart:1,format:"dd.mm.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.fa={days:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"],daysShort:["یک","دو","سه","چهار","پنج","جمعه","شنبه","یک"],daysMin:["ی","د","س","چ","پ","ج","ش","ی"],months:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],monthsShort:["ژان","فور","مار","آور","مه","ژون","ژوی","اوت","سپت","اکت","نوا","دسا"],today:"امروز",clear:"پاک کن",weekStart:1,format:"yyyy/mm/dd"}}(jQuery),function(a){a.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai","sunnuntai"],daysShort:["sun","maa","tii","kes","tor","per","lau","sun"],daysMin:["su","ma","ti","ke","to","pe","la","su"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"tänään",weekStart:1,format:"d.m.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fév","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Déc"],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.gl={days:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mér","Xov","Ven","Sáb","Dom"],daysMin:["Do","Lu","Ma","Me","Xo","Ve","Sa","Do"],months:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthsShort:["Xan","Feb","Mar","Abr","Mai","Xun","Xul","Ago","Sep","Out","Nov","Dec"],today:"Hoxe",clear:"Limpar"}}(jQuery),function(a){a.fn.datepicker.dates.he={days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"],daysShort:["א","ב","ג","ד","ה","ו","ש","א"],daysMin:["א","ב","ג","ד","ה","ו","ש","א"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthsShort:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],today:"היום",rtl:!0}}(jQuery),function(a){a.fn.datepicker.dates.hr={days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota","Nedjelja"],daysShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub","Ned"],daysMin:["Ne","Po","Ut","Sr","Če","Pe","Su","Ne"],months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthsShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],today:"Danas"}}(jQuery),function(a){a.fn.datepicker.dates.hu={days:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat","Vasárnap"],daysShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo","Vas"],daysMin:["Va","Hé","Ke","Sz","Cs","Pé","Sz","Va"],months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthsShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sze","Okt","Nov","Dec"],today:"Ma",weekStart:1,format:"yyyy.mm.dd"}}(jQuery),function(a){a.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],daysShort:["Mgu","Sen","Sel","Rab","Kam","Jum","Sab","Mgu"],daysMin:["Mg","Sn","Sl","Ra","Ka","Ju","Sa","Mg"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],today:"Hari Ini",clear:"Kosongkan"}}(jQuery),function(a){a.fn.datepicker.dates.is={days:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur","Sunnudagur"],daysShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau","Sun"],daysMin:["Su","Má","Þr","Mi","Fi","Fö","La","Su"],months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],today:"Í Dag"}}(jQuery),function(a){a.fn.datepicker.dates.it={days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.ja={days:["日曜","月曜","火曜","水曜","木曜","金曜","土曜","日曜"],daysShort:["日","月","火","水","木","金","土","日"],daysMin:["日","月","火","水","木","金","土","日"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",format:"yyyy/mm/dd"}}(jQuery),function(a){a.fn.datepicker.dates.ka={days:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი","კვირა"],daysShort:["კვი","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ","კვი"],daysMin:["კვ","ორ","სა","ოთ","ხუ","პა","შა","კვ"],months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომები","ნოემბერი","დეკემბერი"],monthsShort:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],today:"დღეს",clear:"გასუფთავება",weekStart:1,format:"dd.mm.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.kk={days:["Жексенбі","Дүйсенбі","Сейсенбі","Сәрсенбі","Бейсенбі","Жұма","Сенбі","Жексенбі"],daysShort:["Жек","Дүй","Сей","Сәр","Бей","Жұм","Сен","Жек"],daysMin:["Жк","Дс","Сс","Ср","Бс","Жм","Сн","Жк"],months:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],monthsShort:["Қаң","Ақп","Нау","Сәу","Мамыр","Мау","Шлд","Тмз","Қыр","Қзн","Қар","Жел"],today:"Бүгін",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.kr={days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일","일요일"],daysShort:["일","월","화","수","목","금","토","일"],daysMin:["일","월","화","수","목","금","토","일"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}}(jQuery),function(a){a.fn.datepicker.dates.lt={days:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis","Sekmadienis"],daysShort:["S","Pr","A","T","K","Pn","Š","S"],daysMin:["Sk","Pr","An","Tr","Ke","Pn","Št","Sk"],months:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthsShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],today:"Šiandien",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.lv={days:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena","Svētdiena"],daysShort:["Sv","P","O","T","C","Pk","S","Sv"],daysMin:["Sv","Pr","Ot","Tr","Ce","Pk","Se","Sv"],months:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],today:"Šodien",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.mk={days:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота","Недела"],daysShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб","Нед"],daysMin:["Не","По","Вт","Ср","Че","Пе","Са","Не"],months:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthsShort:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],today:"Денес",format:"dd.mm.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.ms={days:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu","Ahad"],daysShort:["Aha","Isn","Sel","Rab","Kha","Jum","Sab","Aha"],daysMin:["Ah","Is","Se","Ra","Kh","Ju","Sa","Ah"],months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],today:"Hari Ini"}}(jQuery),function(a){a.fn.datepicker.dates.nb={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I Dag"}}(jQuery),function(a){a.fn.datepicker.dates["nl-BE"]={days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag",clear:"Leegmaken",weekStart:1,format:"dd/mm/yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.nl={days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"}}(jQuery),function(a){a.fn.datepicker.dates.no={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I dag",clear:"Nullstill",weekStart:1,format:"dd.mm.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.pl={days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],daysShort:["Nie","Pn","Wt","Śr","Czw","Pt","So","Nie"],daysMin:["N","Pn","Wt","Śr","Cz","Pt","So","N"],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],today:"Dzisiaj",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"}}(jQuery),function(a){a.fn.datepicker.dates.pt={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"}}(jQuery),function(a){a.fn.datepicker.dates.ro={days:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă","Duminică"],daysShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm","Dum"],daysMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ","Du"],months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthsShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],today:"Astăzi",clear:"Șterge",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates["rs-latin"]={days:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota","Nedelja"],daysShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub","Ned"],daysMin:["N","Po","U","Sr","Č","Pe","Su","N"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas"}}(jQuery),function(a){a.fn.datepicker.dates.rs={days:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота","Недеља"],daysShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб","Нед"],daysMin:["Н","По","У","Ср","Ч","Пе","Су","Н"],months:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthsShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],today:"Данас"}}(jQuery),function(a){a.fn.datepicker.dates.ru={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.sk={days:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota","Nedeľa"],daysShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob","Ned"],daysMin:["Ne","Po","Ut","St","Št","Pia","So","Ne"],months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],today:"Dnes"}}(jQuery),function(a){a.fn.datepicker.dates.sl={days:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota","Nedelja"],daysShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob","Ned"],daysMin:["Ne","Po","To","Sr","Če","Pe","So","Ne"],months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danes"}}(jQuery),function(a){a.fn.datepicker.dates.sq={days:["E Diel","E Hënë","E martē","E mërkurë","E Enjte","E Premte","E Shtunë","E Diel"],daysShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu","Die"],daysMin:["Di","Hë","Ma","Më","En","Pr","Sht","Di"],months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],monthsShort:["Jan","Shk","Mar","Pri","Maj","Qer","Korr","Gu","Sht","Tet","Nën","Dhjet"],today:"Sot"}}(jQuery),function(a){a.fn.datepicker.dates.sv={days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag","Söndag"],daysShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör","Sön"],daysMin:["Sö","Må","Ti","On","To","Fr","Lö","Sö"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Idag",format:"yyyy-mm-dd",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.sw={days:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi","Jumapili"],daysShort:["J2","J3","J4","J5","Alh","Ij","J1","J2"],daysMin:["2","3","4","5","A","I","1","2"],months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],today:"Leo"}}(jQuery),function(a){a.fn.datepicker.dates.th={days:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"],daysShort:["อา","จ","อ","พ","พฤ","ศ","ส","อา"],daysMin:["อา","จ","อ","พ","พฤ","ศ","ส","อา"],months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthsShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],today:"วันนี้"}}(jQuery),function(a){a.fn.datepicker.dates.tr={days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","Çrş","Prş","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","Çr","Pr","Cu","Ct","Pz"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],today:"Bugün",format:"dd.mm.yyyy"}}(jQuery),function(a){a.fn.datepicker.dates.ua={days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятница","Субота","Неділя"],daysShort:["Нед","Пнд","Втр","Срд","Чтв","Птн","Суб","Нед"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб","Нд"],months:["Cічень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates.vi={days:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy","Chủ nhật"],daysShort:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7","CN"],daysMin:["CN","T2","T3","T4","T5","T6","T7","CN"],months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],monthsShort:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],today:"Hôm nay",clear:"Xóa",format:"dd/mm/yyyy"}}(jQuery),function(a){a.fn.datepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日",format:"yyyy年mm月dd日",weekStart:1}}(jQuery),function(a){a.fn.datepicker.dates["zh-TW"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["週日","週一","週二","週三","週四","週五","週六","週日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",format:"yyyy年mm月dd日",weekStart:1}}(jQuery),function(a,b,c){"use strict";var d=function(b,c){this.widget="",this.$element=a(b),this.defaultTime=c.defaultTime,this.disableFocus=c.disableFocus,this.disableMousewheel=c.disableMousewheel,this.isOpen=c.isOpen,this.minuteStep=c.minuteStep,this.modalBackdrop=c.modalBackdrop,this.orientation=c.orientation,this.secondStep=c.secondStep,this.showInputs=c.showInputs,this.showMeridian=c.showMeridian,this.showSeconds=c.showSeconds,this.template=c.template,this.appendWidgetTo=c.appendWidgetTo,this.showWidgetOnAddonClick=c.showWidgetOnAddonClick,this._init()};d.prototype={constructor:d,_init:function(){var b=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":a.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)})):this.$element.on(this.template?{"focus.timepicker":a.proxy(this.showWidget,this),"click.timepicker":a.proxy(this.showWidget,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}:{"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1?a(this.getTemplate()).on("click",a.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){a(this).on({"click.timepicker":function(){a(this).select()},"keydown.timepicker":a.proxy(b.widgetKeydown,b),"keyup.timepicker":a.proxy(b.widgetKeyup,b)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(a){var b;b=a?this.minute-a:this.minute-this.minuteStep,0>b?(this.decrementHour(),this.minute=b+60):this.minute=b},decrementSecond:function(){var a=this.second-this.secondStep;0>a?(this.decrementMinute(!0),this.second=a+60):this.second=a},elementKeydown:function(a){switch(a.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:a.preventDefault(),this.highlightPrevUnit();break;case 38:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:a.preventDefault(),this.highlightNextUnit();break;case 40:switch(a.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(c.selection){a.focus();var b=c.selection.createRange(),d=c.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-d}},getTemplate:function(){var a,b,c,d,e,f;switch(this.showInputs?(b='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',c='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',d='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',e='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(b='<span class="bootstrap-timepicker-hour"></span>',c='<span class="bootstrap-timepicker-minute"></span>',d='<span class="bootstrap-timepicker-second"></span>',e='<span class="bootstrap-timepicker-meridian"></span>'),f='<table><tr><td><a href="#" data-action="incrementHour"><i class="fa fa-angle-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="fa fa-angle-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="fa fa-angle-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="fa fa-angle-up"></i></a></td>':"")+"</tr><tr><td>"+b+'</td> <td class="separator">:</td><td>'+c+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+d+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+e+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="fa fa-angle-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="fa fa-angle-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="fa fa-angle-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="fa fa-angle-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":a='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">Ã—</a><h3>Pick a Time</h3></div><div class="modal-content">'+f+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":a='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"</div>"}return a},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),a(c).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="hour",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(0,1):a.setSelectionRange(0,2)},0)},highlightMinute:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="minute",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(2,4):a.setSelectionRange(3,5)},0)},highlightSecond:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="second",a.setSelectionRange&&setTimeout(function(){b.hour<10?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0)},highlightMeridian:function(){var a=this.$element.get(0),b=this;this.highlightedUnit="meridian",a.setSelectionRange&&(this.showSeconds?setTimeout(function(){b.hour<10?a.setSelectionRange(8,10):a.setSelectionRange(9,11)},0):setTimeout(function(){b.hour<10?a.setSelectionRange(5,7):a.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(a){var b;b=a?this.minute+a:this.minute+this.minuteStep-this.minute%this.minuteStep,b>59?(this.incrementHour(),this.minute=b-60):this.minute=b},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;a>59?(this.incrementMinute(!0),this.second=a-60):this.second=a},mousewheel:function(b){if(!this.disableMousewheel){b.preventDefault(),b.stopPropagation();var c=b.originalEvent.wheelDelta||-b.originalEvent.detail,d=null;switch("mousewheel"===b.type?d=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(d=40*b.originalEvent.detail),d&&(b.preventDefault(),a(this).scrollTop(d+a(this).scrollTop())),this.highlightedUnit){case"minute":c>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":c>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:c>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},place:function(){if(!this.isInline){var c=this.$widget.outerWidth(),d=this.$widget.outerHeight(),e=10,f=a(b).width(),g=a(b).height(),h=a(b).scrollTop(),i=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,j=this.component?this.component.parent().offset():this.$element.offset(),k=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),m=j.left,n=j.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.picker.addClass("datepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(m-=c-l)):(this.$widget.addClass("timepicker-orient-left"),j.left<0?m-=j.left-e:j.left+c>f&&(m=f-c-e));
var o,p,q=this.orientation.y;"auto"===q&&(o=-h+j.top-d,p=h+g-(j.top+k+d),q=Math.max(o,p)===p?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+q),"top"===q?n+=k:n-=d+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:n,left:m,zIndex:i})}},remove:function(){a("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(a){if(this.$element.val())this.updateFromElementVal();else if("current"===a){var b=new Date,c=b.getHours(),d=b.getMinutes(),e=b.getSeconds(),f="AM";0!==e&&(e=Math.ceil(b.getSeconds()/this.secondStep)*this.secondStep,60===e&&(d+=1,e=0)),0!==d&&(d=Math.ceil(b.getMinutes()/this.minuteStep)*this.minuteStep,60===d&&(c+=1,d=0)),this.showMeridian&&(0===c?c=12:c>=12?(c>12&&(c-=12),f="PM"):f="AM"),this.hour=c,this.minute=d,this.second=e,this.meridian=f,this.update()}else a===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(a)},setTime:function(a,b){if(!a)return void this.clear();var c,d,e,f,g;"object"==typeof a&&a.getMonth?(d=a.getHours(),e=a.getMinutes(),f=a.getSeconds(),this.showMeridian&&(g="AM",d>12&&(g="PM",d%=12),12===d&&(g="PM"))):(g=null!==a.match(/p/i)?"PM":"AM",a=a.replace(/[^0-9\:]/g,""),c=a.split(":"),d=c[0]?c[0].toString():c.toString(),e=c[1]?c[1].toString():"",f=c[2]?c[2].toString():"",d.length>4&&(f=d.substr(4,2)),d.length>2&&(e=d.substr(2,2),d=d.substr(0,2)),e.length>2&&(f=e.substr(2,2),e=e.substr(0,2)),f.length>2&&(f=f.substr(2,2)),d=parseInt(d,10),e=parseInt(e,10),f=parseInt(f,10),isNaN(d)&&(d=0),isNaN(e)&&(e=0),isNaN(f)&&(f=0),this.showMeridian?1>d?d=1:d>12&&(d=12):(d>=24?d=23:0>d&&(d=0),13>d&&"PM"===g&&(d+=12)),0>e?e=0:e>=60&&(e=59),this.showSeconds&&(isNaN(f)?f=0:0>f?f=0:f>=60&&(f=59))),this.hour=d,this.minute=e,this.second=f,this.meridian=g,this.update(b)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var b=this;a(c).on("mousedown.timepicker, touchend.timepicker",function(a){b.$element.parent().find(a.target).length||b.$widget.is(a.target)||b.$widget.find(a.target).length||b.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(a){this.updateElement(),a||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var a=this.hour,b=1===this.minute.toString().length?"0"+this.minute:this.minute,c=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(a),this.$widget.find("input.bootstrap-timepicker-minute").val(b),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(c),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(a),this.$widget.find("span.bootstrap-timepicker-minute").text(b),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(c),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var a=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(a,!0)}},widgetClick:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target),d=c.closest("a").data("action");d&&this[d](),this.update(),c.is("input")&&c.get(0).setSelectionRange(0,2)},widgetKeydown:function(b){var c=a(b.target),d=c.attr("class").replace("bootstrap-timepicker-","");switch(b.keyCode){case 9:if(this.showMeridian&&"meridian"===d||this.showSeconds&&"second"===d||!this.showMeridian&&!this.showSeconds&&"minute"===d)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(b.preventDefault(),d){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),c.get(0).setSelectionRange(0,2);break;case 40:switch(b.preventDefault(),d){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),c.get(0).setSelectionRange(0,2)}},widgetKeyup:function(a){(65===a.keyCode||77===a.keyCode||80===a.keyCode||46===a.keyCode||8===a.keyCode||a.keyCode>=46&&a.keyCode<=57)&&this.updateFromWidgetInputs()}},a.fn.timepicker=function(b){var c=Array.apply(null,arguments);return c.shift(),this.each(function(){var e=a(this),f=e.data("timepicker"),g="object"==typeof b&&b;f||e.data("timepicker",f=new d(this,a.extend({},a.fn.timepicker.defaults,g,a(this).data()))),"string"==typeof b&&f[b].apply(f,c)})},a.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0},a.fn.timepicker.Constructor=d}(jQuery,window,document),function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):a(jQuery,moment)}(function(a,b){function c(a,b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function d(a,b){var c=b.longDateFormat("L");return c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),a.isRTL?c+=" ddd":c="ddd "+c,c}function e(a){f(Cb,a)}function f(b){function c(c,d){a.isPlainObject(d)&&a.isPlainObject(b[c])&&!g(c)?b[c]=f({},b[c],d):void 0!==d&&(b[c]=d)}for(var d=1;arguments.length>d;d++)a.each(arguments[d],c);return b}function g(a){return/(Time|Duration)$/.test(a)}function h(c,d){function e(a){fb?m()&&(t(),r(a)):g()}function g(){gb=ab.theme?"ui":"fc",c.addClass("fc"),c.addClass(ab.isRTL?"fc-rtl":"fc-ltr"),ab.theme&&c.addClass("ui-widget"),fb=a("<div class='fc-content' />").prependTo(c),db=new i($,ab),eb=db.render(),eb&&c.prepend(eb),o(ab.defaultView),ab.handleWindowResize&&a(window).resize(v),n()||h()}function h(){setTimeout(function(){!hb.start&&n()&&q()},0)}function k(){hb&&(Z("viewDestroy",hb,hb,hb.element),hb.triggerEventDestroy()),a(window).unbind("resize",v),db.destroy(),fb.remove(),c.removeClass("fc fc-rtl ui-widget")}function m(){return c.is(":visible")}function n(){return a("body").is(":visible")}function o(a){hb&&a==hb.name||p(a)}function p(b){qb++,hb&&(Z("viewDestroy",hb,hb,hb.element),J(),hb.triggerEventDestroy(),U(),hb.element.remove(),db.deactivateButton(hb.name)),db.activateButton(b),hb=new Gb[b](a("<div class='fc-view fc-view-"+b+"' />").appendTo(fb),$),q(),V(),qb--}function q(a){hb.start&&!a&&kb.isWithin(hb.intervalStart,hb.intervalEnd)||m()&&r(a)}function r(a){qb++,hb.start&&(Z("viewDestroy",hb,hb,hb.element),J(),B()),U(),a&&(kb=hb.incrementDate(kb,a)),hb.render(kb.clone()),u(),V(),(hb.afterRender||A)(),G(),H(),Z("viewRender",hb,hb,hb.element),qb--,C()}function s(){m()&&(J(),B(),t(),u(),z())}function t(){jb=ab.contentHeight?ab.contentHeight:ab.height?ab.height-(eb?eb.height():0)-w(fb):Math.round(fb.width()/Math.max(ab.aspectRatio,.5))}function u(){void 0===jb&&t(),qb++,hb.setHeight(jb),hb.setWidth(fb.width()),qb--,ib=c.outerWidth()}function v(){if(!qb)if(hb.start){var a=++pb;setTimeout(function(){a==pb&&!qb&&m()&&ib!=(ib=c.outerWidth())&&(qb++,s(),hb.trigger("windowResize",ob),qb--)},200)}else h()}function x(){B(),D()}function y(a){B(),z(a)}function z(a){m()&&(hb.renderEvents(rb,a),hb.trigger("eventAfterAllRender"))}function B(){hb.triggerEventDestroy(),hb.clearEvents(),hb.clearEventData()}function C(){!ab.lazyFetching||mb(hb.start,hb.end)?D():z()}function D(){nb(hb.start,hb.end)}function E(a){rb=a,z()}function F(a){y(a)}function G(){db.updateTitle(hb.title)}function H(){var a=$.getNow();a.isWithin(hb.intervalStart,hb.intervalEnd)?db.disableButton("today"):db.enableButton("today")}function I(a,b){hb.select(a,b)}function J(){hb&&hb.unselect()}function K(){q(-1)}function L(){q(1)}function M(){kb.add("years",-1),q()}function N(){kb.add("years",1),q()}function O(){kb=$.getNow(),q()}function P(a){kb=$.moment(a),q()}function R(){kb.add.apply(kb,arguments),q()}function S(){return kb.clone()}function U(){fb.css({width:"100%",height:fb.height(),overflow:"hidden"})}function V(){fb.css({width:"",height:"",overflow:""})}function W(){return $}function X(){return hb}function Y(a,b){return void 0===b?ab[a]:void(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(ab[a]=b,s()))}function Z(a,b){return ab[a]?ab[a].apply(b||ob,Array.prototype.slice.call(arguments,2)):void 0}var $=this;d=d||{};var _,ab=f({},Cb,d);_=ab.lang in Db?Db[ab.lang]:Db[Cb.lang],_&&(ab=f({},Cb,_,d)),ab.isRTL&&(ab=f({},Cb,Eb,_||{},d)),$.options=ab,$.render=e,$.destroy=k,$.refetchEvents=x,$.reportEvents=E,$.reportEventChange=F,$.rerenderEvents=y,$.changeView=o,$.select=I,$.unselect=J,$.prev=K,$.next=L,$.prevYear=M,$.nextYear=N,$.today=O,$.gotoDate=P,$.incrementDate=R,$.getDate=S,$.getCalendar=W,$.getView=X,$.option=Y,$.trigger=Z;var bb=l(b.langData(ab.lang));if(ab.monthNames&&(bb._months=ab.monthNames),ab.monthNamesShort&&(bb._monthsShort=ab.monthNamesShort),ab.dayNames&&(bb._weekdays=ab.dayNames),ab.dayNamesShort&&(bb._weekdaysShort=ab.dayNamesShort),ab.firstDay){var cb=l(bb._week);cb.dow=ab.firstDay,bb._week=cb}$.defaultAllDayEventDuration=b.duration(ab.defaultAllDayEventDuration),$.defaultTimedEventDuration=b.duration(ab.defaultTimedEventDuration),$.moment=function(){var a;return a="local"===ab.timezone?Fb.moment.apply(null,arguments):"UTC"===ab.timezone?Fb.moment.utc.apply(null,arguments):Fb.moment.parseZone.apply(null,arguments),a._lang=bb,a},$.getIsAmbigTimezone=function(){return"local"!==ab.timezone&&"UTC"!==ab.timezone},$.rezoneDate=function(a){return $.moment(a.toArray())},$.getNow=function(){var a=ab.now;return"function"==typeof a&&(a=a()),$.moment(a)},$.calculateWeekNumber=function(a){var b=ab.weekNumberCalculation;return"function"==typeof b?b(a):"local"===b?a.week():"ISO"===b.toUpperCase()?a.isoWeek():void 0},$.getEventEnd=function(a){return a.end?a.end.clone():$.getDefaultEventEnd(a.allDay,a.start)},$.getDefaultEventEnd=function(a,b){var c=b.clone();return a?c.stripTime().add($.defaultAllDayEventDuration):c.add($.defaultTimedEventDuration),$.getIsAmbigTimezone()&&c.stripZone(),c},$.formatRange=function(a,b,c){return"function"==typeof c&&(c=c.call($,ab,bb)),T(a,b,c,null,ab.isRTL)},$.formatDate=function(a,b){return"function"==typeof b&&(b=b.call($,ab,bb)),Q(a,b)},j.call($,ab);var db,eb,fb,gb,hb,ib,jb,kb,lb,mb=$.isFetchNeeded,nb=$.fetchEvents,ob=c[0],pb=0,qb=0,rb=[];kb=null!=ab.defaultDate?$.moment(ab.defaultDate):$.getNow(),ab.droppable&&a(document).bind("dragstart",function(b,c){var d=b.target,e=a(d);if(!e.parents(".fc").length){var f=ab.dropAccept;(a.isFunction(f)?f.call(d,e):e.is(f))&&(lb=d,hb.dragStart(lb,b,c))}}).bind("dragstop",function(a,b){lb&&(hb.dragStop(lb,a,b),lb=null)})}function i(b,c){function d(){m=c.theme?"ui":"fc";var b=c.header;return b?n=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(f("left")).append(f("center")).append(f("right"))):void 0}function e(){n.remove()}function f(d){var e=a("<td class='fc-header-"+d+"'/>"),f=c.header[d];return f&&a.each(f.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(d,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(m+"-corner-right"),f=null;else{var h;if(b[g]?h=b[g]:Gb[g]&&(h=function(){n.removeClass(m+"-state-hover"),b.changeView(g)}),h){var i,j=D(c.themeButtonIcons,g),k=D(c.buttonIcons,g),l=D(c.buttonText,g);i=j&&c.theme?"<span class='ui-icon ui-icon-"+j+"'></span>":k&&!c.theme?"<span class='fc-icon fc-icon-"+k+"'></span>":E(l||g);var n=a("<span class='fc-button fc-button-"+g+" "+m+"-state-default'>"+i+"</span>").click(function(){n.hasClass(m+"-state-disabled")||h()}).mousedown(function(){n.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){n.removeClass(m+"-state-down")}).hover(function(){n.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){n.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(e);G(n),f||n.addClass(m+"-corner-left"),f=n}}}),f&&f.addClass(m+"-corner-right")}),e}function g(a){n.find("h2").html(a)}function h(a){n.find("span.fc-button-"+a).addClass(m+"-state-active")}function i(a){n.find("span.fc-button-"+a).removeClass(m+"-state-active")}function j(a){n.find("span.fc-button-"+a).addClass(m+"-state-disabled")}function k(a){n.find("span.fc-button-"+a).removeClass(m+"-state-disabled")}var l=this;l.render=d,l.destroy=e,l.updateTitle=g,l.activateButton=h,l.deactivateButton=i,l.disableButton=j,l.enableButton=k;var m,n=a([])}function j(b){function c(a,b){return!z||a.clone().stripZone()<z.clone().stripZone()||b.clone().stripZone()>A.clone().stripZone()}function d(a,b){z=a,A=b,M=[];var c=++H,d=G.length;I=d;for(var f=0;d>f;f++)e(G[f],c)}function e(a,b){f(a,function(c){if(b==H){if(c)for(var d=0;c.length>d;d++){var e=s(c[d],a);e&&M.push(e)}I--,I||D(M)}})}function f(c,d){var e,g,h=Fb.sourceFetchers;for(e=0;h.length>e;e++){if(g=h[e].call(y,c,z.clone(),A.clone(),b.timezone,d),g===!0)return;if("object"==typeof g)return void f(g,d)}var i=c.events;if(i)a.isFunction(i)?(q(),i.call(y,z.clone(),A.clone(),b.timezone,function(a){d(a),r()})):a.isArray(i)?d(i):d();else{var j=c.url;if(j){var k,l=c.success,m=c.error,n=c.complete;k=a.isFunction(c.data)?c.data():c.data;var o=a.extend({},k||{}),p=K(c.startParam,b.startParam),s=K(c.endParam,b.endParam),t=K(c.timezoneParam,b.timezoneParam);p&&(o[p]=z.format()),s&&(o[s]=A.format()),b.timezone&&"local"!=b.timezone&&(o[t]=b.timezone),q(),a.ajax(a.extend({},Hb,c,{data:o,success:function(b){b=b||[];var c=J(l,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){J(m,this,arguments),d()},complete:function(){J(n,this,arguments),r()}}))}else d()}}function g(a){a=h(a),a&&(I++,e(a,H))}function h(b){return a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b}),"object"==typeof b?(v(b),G.push(b),b):void 0}function i(b){G=a.grep(G,function(a){return!w(a,b)}),M=a.grep(M,function(a){return!w(a.source,b)}),D(M)}function j(a){t(a),l(a),D(M)}function l(a){var b,c,d,e;for(b=0;M.length>b;b++)if(c=M[b],c._id==a._id&&c!==a)for(d=0;P.length>d;d++)e=P[d],void 0!==a[e]&&(c[e]=a[e])}function m(a,b){var c=s(a);c&&(c.source||(b&&(F.events.push(c),c.source=F),M.push(c)),D(M))}function o(b){var c;if(b){if(!a.isFunction(b)){var d=b+"";b=function(a){return a._id==d}}for(M=a.grep(M,b,!0),c=0;G.length>c;c++)a.isArray(G[c].events)&&(G[c].events=a.grep(G[c].events,b,!0))}else for(M=[],c=0;G.length>c;c++)a.isArray(G[c].events)&&(G[c].events=[]);D(M)}function p(b){return a.isFunction(b)?a.grep(M,b):b?(b+="",a.grep(M,function(a){return a._id==b})):M}function q(){L++||B("loading",null,!0,C())}function r(){--L||B("loading",null,!1,C())}function s(c,d){var e,f,g,h,i={};return b.eventDataTransform&&(c=b.eventDataTransform(c)),d&&d.eventDataTransform&&(c=d.eventDataTransform(c)),e=y.moment(c.start||c.date),e.isValid()&&(f=null,!c.end||(f=y.moment(c.end),f.isValid()))?(g=c.allDay,void 0===g&&(h=K(d?d.allDayDefault:void 0,b.allDayDefault),g=void 0!==h?h:!(e.hasTime()||f&&f.hasTime())),g?(e.hasTime()&&e.stripTime(),f&&f.hasTime()&&f.stripTime()):(e.hasTime()||(e=y.rezoneDate(e)),f&&!f.hasTime()&&(f=y.rezoneDate(f))),a.extend(i,c),d&&(i.source=d),i._id=c._id||(void 0===c.id?"_fc"+Ib++:c.id+""),i.className=c.className?"string"==typeof c.className?c.className.split(/\s+/):c.className:[],i.allDay=g,i.start=e,i.end=f,b.forceEventDuration&&!i.end&&(i.end=E(i)),k(i),i):void 0}function t(a,b,c){var d,e,f,g=a._allDay,h=a._start,i=a._end,j=!1;return b||c||(b=a.start,c=a.end),d=a.allDay!=g?a.allDay:!(b||c).hasTime(),d&&(b&&(b=b.clone().stripTime()),c&&(c=c.clone().stripTime())),b&&(e=d?n(b,h.clone().stripTime()):n(b,h)),d!=g?j=!0:c&&(f=n(c||y.getDefaultEventEnd(d,b||h),b||h).subtract(n(i||y.getDefaultEventEnd(g,h),h))),u(p(a._id),j,d,e,f)}function u(c,d,e,f,g){var h=y.getIsAmbigTimezone(),i=[];return a.each(c,function(a,c){var j=c._allDay,l=c._start,m=c._end,n=null!=e?e:j,o=l.clone(),p=!d&&m?m.clone():null;n?(o.stripTime(),p&&p.stripTime()):(o.hasTime()||(o=y.rezoneDate(o)),p&&!p.hasTime()&&(p=y.rezoneDate(p))),p||!b.forceEventDuration&&!+g||(p=y.getDefaultEventEnd(n,o)),o.add(f),p&&p.add(f).add(g),h&&(+f&&o.stripZone(),p&&(+f||+g)&&p.stripZone()),c.allDay=n,c.start=o,c.end=p,k(c),i.push(function(){c.allDay=j,c.start=l,c.end=m,k(c)})}),function(){for(var a=0;i.length>a;a++)i[a]()}}function v(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=Fb.sourceNormalizers,c=0;b.length>c;c++)b[c].call(y,a)}function w(a,b){return a&&b&&x(a)==x(b)}function x(a){return("object"==typeof a?a.events||a.url:"")||a}var y=this;y.isFetchNeeded=c,y.fetchEvents=d,y.addEventSource=g,y.removeEventSource=i,y.updateEvent=j,y.renderEvent=m,y.removeEvents=o,y.clientEvents=p,y.mutateEvent=t;var z,A,B=y.trigger,C=y.getView,D=y.reportEvents,E=y.getEventEnd,F={events:[]},G=[F],H=0,I=0,L=0,M=[],N=b.eventSources||[];b.events&&N.push(b.events);for(var O=0;N.length>O;O++)h(N[O]);var P=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function k(a){a._allDay=a.allDay,a._start=a.start.clone(),a._end=a.end?a.end.clone():null}function l(a){var b=function(){};return b.prototype=a,new b}function m(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function n(a,c){return b.duration({days:a.clone().stripTime().diff(c.clone().stripTime(),"days"),ms:a.time()-c.time()})}function o(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function p(b,c,d){b.unbind("mouseover").mouseover(function(b){for(var e,f,g,h=b.target;h!=this;)e=h,h=h.parentNode;void 0!==(f=e._fci)&&(e._fci=void 0,g=c[f],d(g.event,g.element,g),a(b.target).trigger(b)),b.stopPropagation()})}function q(b,c,d){for(var e,f=0;b.length>f;f++)e=a(b[f]),e.width(Math.max(0,c-s(e,d)))}function r(b,c,d){for(var e,f=0;b.length>f;f++)e=a(b[f]),e.height(Math.max(0,c-w(e,d)))}function s(a,b){return t(a)+v(a)+(b?u(a):0)}function t(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function u(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function v(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function w(a,b){return x(a)+z(a)+(b?y(a):0)}function x(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function y(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function z(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function A(){}function B(a,b){return a-b}function C(a){return Math.max.apply(Math,a)}function D(a,b){if(void 0!==a[b])return a[b];for(var c,d=b.split(/(?=[A-Z])/),e=d.length-1;e>=0;e--)if(c=a[d[e].toLowerCase()],void 0!==c)return c;return a["default"]}function E(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function F(a){return a.replace(/&.*?;/g,"")}function G(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function H(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function I(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function J(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;b.length>e;e++)f=b[e].apply(c,d)||f;return f}}function K(){for(var a=0;arguments.length>a;a++)if(void 0!==arguments[a])return arguments[a]}function L(c,d,e){var f,g,h=c[0],i=1==c.length&&"string"==typeof h,j=!1,k=!1;return i?Kb.test(h)?(h+="-01",j=!0,k=!0):(f=Lb.exec(h))&&(j=!f[5],k=!0):a.isArray(h)&&(k=!0),g=d||e||j?b.utc.apply(b,c):b.apply(null,c),b.isMoment(h)&&N(h,g),j&&(g._ambigTime=!0,g._ambigZone=!0),e&&(k?g._ambigZone=!0:i?g.zone(h):(o(h)||void 0===h)&&g.local()),new M(g)}function M(a){m(this,a)}function N(a,b){a._ambigTime?b._ambigTime=!0:b._ambigTime&&delete b._ambigTime,a._ambigZone?b._ambigZone=!0:b._ambigZone&&delete b._ambigZone}function O(a){var b,c=[],d=!1,e=!1;for(b=0;a.length>b;b++)c.push(Fb.moment(a[b])),d=d||c[b]._ambigTime,e=e||c[b]._ambigZone;for(b=0;c.length>b;b++)d?c[b].stripTime():e&&c[b].stripZone();return c}function P(a,c){return b.fn.format.call(a,c)}function Q(a,b){return R(a,W(b))}function R(a,b){var c,d="";for(c=0;b.length>c;c++)d+=S(a,b[c]);return d}function S(a,b){var c,d;return"string"==typeof b?b:(c=b.token)?Mb[c]?Mb[c](a):P(a,c):b.maybe&&(d=R(a,b.maybe),d.match(/[1-9]/))?d:""}function T(a,b,c,d,e){return c=a.lang().longDateFormat(c)||c,d=d||" - ",U(a,b,W(c),d,e)}function U(a,b,c,d,e){var f,g,h,i,j="",k="",l="",m="",n="";for(g=0;c.length>g&&(f=V(a,b,c[g]),f!==!1);g++)j+=f;for(h=c.length-1;h>g&&(f=V(a,b,c[h]),f!==!1);h--)k=f+k;for(i=g;h>=i;i++)l+=S(a,c[i]),m+=S(b,c[i]);return(l||m)&&(n=e?m+d+l:l+d+m),j+n+k}function V(a,b,c){var d,e;return"string"==typeof c?c:(d=c.token)&&(e=Nb[d.charAt(0)],e&&a.isSame(b,e))?P(a,d):!1}function W(a){return a in Ob?Ob[a]:Ob[a]=X(a)}function X(a){for(var b,c=[],d=/\[([^\]]*)\]|\(([^\)]*)\)|((\w)\4*o?T?)|([^\w\[\(]+)/g;b=d.exec(a);)b[1]?c.push(b[1]):b[2]?c.push({maybe:X(b[2])}):b[3]?c.push({token:b[3]}):b[5]&&c.push(b[5]);return c}function Y(a,b){function c(a,b){return a.clone().stripTime().add("months",b).startOf("month")}function d(a){e.intervalStart=a.clone().stripTime().startOf("month"),e.intervalEnd=e.intervalStart.clone().add("months",1),e.start=e.intervalStart.clone().startOf("week"),e.start=e.skipHiddenDays(e.start),e.end=e.intervalEnd.clone().add("days",(7-e.intervalEnd.weekday())%7),e.end=e.skipHiddenDays(e.end,-1,!0);var c=Math.ceil(e.end.diff(e.start,"weeks",!0));"fixed"==e.opt("weekMode")&&(e.end.add("weeks",6-c),c=6),e.title=b.formatDate(e.intervalStart,e.opt("titleFormat")),e.renderBasic(c,e.getCellsPerWeek(),!0)}var e=this;e.incrementDate=c,e.render=d,_.call(e,a,b,"month")}function Z(a,b){function c(a,b){return a.clone().stripTime().add("weeks",b).startOf("week")}function d(a){e.intervalStart=a.clone().stripTime().startOf("week"),e.intervalEnd=e.intervalStart.clone().add("weeks",1),e.start=e.skipHiddenDays(e.intervalStart),e.end=e.skipHiddenDays(e.intervalEnd,-1,!0),e.title=b.formatRange(e.start,e.end.clone().subtract(1),e.opt("titleFormat")," — "),e.renderBasic(1,e.getCellsPerWeek(),!1)}var e=this;e.incrementDate=c,e.render=d,_.call(e,a,b,"basicWeek")}function $(a,b){function c(a,b){var c=a.clone().stripTime().add("days",b);return c=e.skipHiddenDays(c,0>b?-1:1)}function d(a){e.start=e.intervalStart=a.clone().stripTime(),e.end=e.intervalEnd=e.start.clone().add("days",1),e.title=b.formatDate(e.start,e.opt("titleFormat")),e.renderBasic(1,1,!1)}var e=this;e.incrementDate=c,e.render=d,_.call(e,a,b,"basicDay")}function _(b,c,d){function e(a,b,c){X=a,Y=b,Z=c,f(),M||g(),h()}function f(){db=gb("theme")?"ui":"fc",eb=gb("columnFormat"),fb=gb("weekNumbers")}function g(){S=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(){var c=i();J&&J.remove(),J=a(c).appendTo(b),K=J.find("thead"),L=K.find(".fc-day-header"),M=J.find("tbody"),N=M.find("tr"),O=M.find(".fc-day"),P=N.find("td:first-child"),Q=N.eq(0).find(".fc-day > div"),R=N.eq(0).find(".fc-day-content > div"),H(K.add(K.find("tr"))),H(N),N.eq(0).addClass("fc-first"),N.filter(":last").addClass("fc-last"),O.each(function(b,c){var d=lb(Math.floor(b/Y),b%Y);hb("dayRender",I,d,a(c))}),o(O)}function i(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+j()+k()+"</table>";return a}function j(){var a,b,c=db+"-widget-header",d="";for(d+="<thead><tr>",fb&&(d+="<th class='fc-week-number "+c+"'>"+E(gb("weekNumberTitle"))+"</th>"),a=0;Y>a;a++)b=lb(0,a),d+="<th class='fc-day-header fc-"+Jb[b.day()]+" "+c+"'>"+E(ob(b,eb))+"</th>";return d+="</tr></thead>"}function k(){var a,b,c,d=db+"-widget-content",e="";for(e+="<tbody>",a=0;X>a;a++){for(e+="<tr class='fc-week'>",fb&&(c=lb(a,0),e+="<td class='fc-week-number "+d+"'><div>"+E(pb(c))+"</div></td>"),b=0;Y>b;b++)c=lb(a,b),e+=l(c);e+="</tr>"}return e+="</tbody>"}function l(a){var b=I.intervalStart.month(),d=c.getNow().stripTime(),e="",f=db+"-widget-content",g=["fc-day","fc-"+Jb[a.day()],f];return a.month()!=b&&g.push("fc-other-month"),a.isSame(d,"day")?g.push("fc-today",db+"-state-highlight"):g.push(d>a?"fc-past":"fc-future"),e+="<td class='"+g.join(" ")+"' data-date='"+a.format()+"'><div>",Z&&(e+="<div class='fc-day-number'>"+a.date()+"</div>"),e+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function m(b){U=b;var c,d,e,f=Math.max(U-K.height(),0);"variable"==gb("weekMode")?c=d=Math.floor(f/(1==X?2:6)):(c=Math.floor(f/X),d=f-c*(X-1)),P.each(function(b,f){X>b&&(e=a(f),e.find("> div").css("min-height",(b==X-1?d:c)-w(e)))})}function n(a){T=a,bb.clear(),cb.clear(),W=0,fb&&(W=K.find("th.fc-week-number").outerWidth()),V=Math.floor((T-W)/Y),q(L.slice(0,-1),V)}function o(a){a.click(p).mousedown(kb)}function p(b){if(!gb("selectable")){var d=c.moment(a(this).data("date"));hb("dayClick",this,d,b)}}function r(a,b,c){c&&$.build();for(var d=nb(a,b),e=0;d.length>e;e++){var f=d[e];o(s(f.row,f.leftCol,f.row,f.rightCol))}}function s(a,c,d,e){var f=$.rect(a,c,d,e,b);return ib(f,b)}function t(a){return a.clone().stripTime().add("days",1)}function u(a,b){r(a,b,!0)}function v(){jb()}function x(a,b){var c=mb(a),d=O[c.row*Y+c.col];hb("dayClick",d,a,b)}function y(a,b){_.start(function(a){if(jb(),a){var b=lb(a),d=b.clone().add(c.defaultAllDayEventDuration);r(b,d)}},b)}function z(a,b,c){var d=_.stop();jb(),d&&hb("drop",a,lb(d),b,c)}function A(a){return bb.left(a)}function B(a){return bb.right(a)}function C(a){return cb.left(a)}function D(a){return cb.right(a)}function F(a){return N.eq(a)}var I=this;I.renderBasic=e,I.setHeight=m,I.setWidth=n,I.renderDayOverlay=r,I.defaultSelectionEnd=t,I.renderSelection=u,I.clearSelection=v,I.reportDayClick=x,I.dragStart=y,I.dragStop=z,I.getHoverListener=function(){return _},I.colLeft=A,I.colRight=B,I.colContentLeft=C,I.colContentRight=D,I.getIsCellAllDay=function(){return!0},I.allDayRow=F,I.getRowCnt=function(){return X},I.getColCnt=function(){return Y},I.getColWidth=function(){return V},I.getDaySegmentContainer=function(){return S},rb.call(I,b,c,d),xb.call(I),wb.call(I),ab.call(I);var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,bb,cb,db,eb,fb,gb=I.opt,hb=I.trigger,ib=I.renderOverlay,jb=I.clearOverlays,kb=I.daySelectionMousedown,lb=I.cellToDate,mb=I.dateToCell,nb=I.rangeToSegments,ob=c.formatDate,pb=c.calculateWeekNumber;G(b.addClass("fc-grid")),$=new yb(function(b,c){var d,e,f;L.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),N.each(function(c,g){X>c&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),_=new zb($),bb=new Bb(function(a){return Q.eq(a)}),cb=new Bb(function(a){return R.eq(a)})}function ab(){function a(a,b){c.renderDayEvents(a,b)}function b(){c.getDaySegmentContainer().empty()}var c=this;c.renderEvents=a,c.clearEvents=b,sb.call(c)}function bb(a,b){function c(a,b){return a.clone().stripTime().add("weeks",b).startOf("week")}function d(a){e.intervalStart=a.clone().stripTime().startOf("week"),e.intervalEnd=e.intervalStart.clone().add("weeks",1),e.start=e.skipHiddenDays(e.intervalStart),e.end=e.skipHiddenDays(e.intervalEnd,-1,!0),e.title=b.formatRange(e.start,e.end.clone().subtract(1),e.opt("titleFormat")," — "),e.renderAgenda(e.getCellsPerWeek())}var e=this;e.incrementDate=c,e.render=d,fb.call(e,a,b,"agendaWeek")}function cb(a,b){function c(a,b){var c=a.clone().stripTime().add("days",b);return c=e.skipHiddenDays(c,0>b?-1:1)}function d(a){e.start=e.intervalStart=a.clone().stripTime(),e.end=e.intervalEnd=e.start.clone().add("days",1),e.title=b.formatDate(e.start,e.opt("titleFormat")),e.renderAgenda(1)}var e=this;e.incrementDate=c,e.render=d,fb.call(e,a,b,"agendaDay")}function db(a,b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function eb(a,b){return b.longDateFormat("LT").replace(/\s*a$/i,"")}function fb(c,d,e){function f(a){Ab=a,g(),U?i():h()}function g(){Hb=Nb("theme")?"ui":"fc",Ib=Nb("isRTL"),Mb=Nb("columnFormat"),Kb=b.duration(Nb("minTime")),Lb=b.duration(Nb("maxTime")),qb=b.duration(Nb("slotDuration")),tb=Nb("snapDuration"),tb=tb?b.duration(tb):qb}function h(){var d,e,f,g,h=Hb+"-widget-header",j=Hb+"-widget-content",k=0===qb.asMinutes()%15;for(i(),bb=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),Nb("allDaySlot")?(cb=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bb),d="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+(Nb("allDayHTML")||E(Nb("allDayText")))+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",db=a(d).appendTo(bb),eb=db.find("tr"),s(eb.find("td")),bb.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):cb=a([]),fb=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(bb),hb=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(fb),ib=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(hb),d="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",e=b.duration(+Kb),Cb=0;Lb>e;)f=T.start.clone().time(e),g=f.minutes(),d+="<tr class='fc-slot"+Cb+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(k&&g?"&nbsp;":E(Yb(f,Nb("axisFormat"))))+"</th><td class='"+j+"'><div style='position:relative'>&nbsp;</div></td></tr>",e.add(qb),Cb++;d+="</tbody></table>",jb=a(d).appendTo(hb),t(jb.find("td"))}function i(){var b=j();U&&U.remove(),U=a(b).appendTo(c),V=U.find("thead"),W=V.find("th").slice(1,-1),X=U.find("tbody"),Y=X.find("td").slice(0,-1),Z=Y.find("> div"),$=Y.find(".fc-day-content > div"),_=Y.eq(0),ab=Z.eq(0),H(V.add(V.find("tr"))),H(X.add(X.find("tr")))}function j(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+k()+l()+"</table>";return a}function k(){var a,b,c,d=Hb+"-widget-header",e="";for(e+="<thead><tr>",Nb("weekNumbers")?(a=Vb(0,0),b=Zb(a),Ib?b+=Nb("weekNumberTitle"):b=Nb("weekNumberTitle")+b,e+="<th class='fc-agenda-axis fc-week-number "+d+"'>"+E(b)+"</th>"):e+="<th class='fc-agenda-axis "+d+"'>&nbsp;</th>",c=0;Ab>c;c++)a=Vb(0,c),e+="<th class='fc-"+Jb[a.day()]+" fc-col"+c+" "+d+"'>"+E(Yb(a,Mb))+"</th>";
return e+="<th class='fc-agenda-gutter "+d+"'>&nbsp;</th></tr></thead>"}function l(){var a,b,c,e,f,g=Hb+"-widget-header",h=Hb+"-widget-content",i=d.getNow().stripTime(),j="";for(j+="<tbody><tr><th class='fc-agenda-axis "+g+"'>&nbsp;</th>",c="",b=0;Ab>b;b++)a=Vb(0,b),f=["fc-col"+b,"fc-"+Jb[a.day()],h],a.isSame(i,"day")?f.push(Hb+"-state-highlight","fc-today"):f.push(i>a?"fc-past":"fc-future"),e="<td class='"+f.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",c+=e;return j+=c,j+="<td class='fc-agenda-gutter "+h+"'>&nbsp;</td></tr></tbody>"}function m(a){void 0===a&&(a=mb),mb=a,$b={};var b=X.position().top,c=fb.position().top,d=Math.min(a-b,jb.height()+c+1);ab.height(d-w(_)),bb.css("top",b),fb.height(d-c-1);var e=jb.find("tr:first").height()+1,f=jb.find("tr:eq(1)").height();sb=(e+f)/2,ub=qb/tb,vb=sb/ub}function n(b){lb=b,Fb.clear(),Gb.clear();var c=V.find("th:first");db&&(c=c.add(db.find("th:first"))),c=c.add(jb.find("th:first")),nb=0,q(c.width("").each(function(b,c){nb=Math.max(nb,a(c).outerWidth())}),nb);var d=U.find(".fc-agenda-gutter");db&&(d=d.add(db.find("th.fc-agenda-gutter")));var e=fb[0].clientWidth;pb=fb.width()-e,pb?(q(d,pb),d.show().prev().removeClass("fc-last")):d.hide().prev().addClass("fc-last"),ob=Math.floor((e-nb)/Ab),q(W.slice(0,-1),ob)}function o(){function a(){fb.scrollTop(c)}var c=K(b.duration(Nb("scrollTime")))+1;a(),setTimeout(a,0)}function p(){o()}function s(a){a.click(u).mousedown(Tb)}function t(a){a.click(u).mousedown(P)}function u(a){if(!Nb("selectable")){var b=Math.min(Ab-1,Math.floor((a.pageX-U.offset().left-nb)/ob)),c=Vb(0,b),e=this.parentNode.className.match(/fc-slot(\d+)/);if(e){var f=parseInt(e[1]);c.add(Kb+f*qb),c=d.rezoneDate(c),Ob("dayClick",Y[b],c,a)}else Ob("dayClick",Y[b],c,a)}}function v(a,b,c){c&&Db.build();for(var d=Xb(a,b),e=0;d.length>e;e++){var f=d[e];s(x(f.row,f.leftCol,f.row,f.rightCol))}}function x(a,b,c,d){var e=Db.rect(a,b,c,d,bb);return Pb(e,bb)}function y(a,b){a=a.clone().stripZone(),b=b.clone().stripZone();for(var c=0;Ab>c;c++){var d=Vb(0,c),e=d.clone().add("days",1),f=a>d?a:d,g=b>e?e:b;if(g>f){var h=Db.rect(0,c,0,c,hb),i=J(f,d),j=J(g,d);h.top=i,h.height=j-i,t(Pb(h,hb))}}}function z(a){return Fb.left(a)}function A(a){return Gb.left(a)}function C(a){return Fb.right(a)}function D(a){return Gb.right(a)}function F(a){return Nb("allDaySlot")&&!a.row}function I(a){var c=Vb(0,a.col),e=a.row;return Nb("allDaySlot")&&e--,e>=0&&(c.time(b.duration(Kb+e*qb)),c=d.rezoneDate(c)),c}function J(a,c){return K(b.duration(a.clone().stripZone()-c.clone().stripTime()))}function K(a){if(Kb>a)return 0;if(a>=Lb)return jb.height();var b=(a-Kb)/qb,c=Math.floor(b),d=b-c,e=$b[c];void 0===e&&(e=$b[c]=jb.find("tr").eq(c).find("td div")[0].offsetTop);var f=e-1+d*sb;return f=Math.max(f,0)}function L(a){return a.hasTime()?a.clone().add(qb):a.clone().add("days",1)}function M(a,b){a.hasTime()||b.hasTime()?N(a,b):Nb("allDaySlot")&&v(a,b,!0)}function N(b,c){var d=Nb("selectHelper");if(Db.build(),d){var e=Wb(b).col;if(e>=0&&Ab>e){var f=Db.rect(0,e,0,e,hb),g=J(b,b),h=J(c,b);if(h>g){if(f.top=g,f.height=h-g,f.left+=2,f.width-=5,a.isFunction(d)){var i=d(b,c);i&&(f.position="absolute",kb=a(i).css(f).appendTo(hb))}else f.isStart=!0,f.isEnd=!0,kb=a(Ub({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},f)),kb.css("opacity",Nb("dragOpacity"));kb&&(t(kb),hb.append(kb),q(kb,f.width,!0),r(kb,f.height,!0))}}}else y(b,c)}function O(){Qb(),kb&&(kb.remove(),kb=null)}function P(b){if(1==b.which&&Nb("selectable")){Sb(b);var c;Eb.start(function(a,b){if(O(),a&&a.col==b.col&&!F(a)){var d=I(b),e=I(a);c=[d,d.clone().add(tb),e,e.clone().add(tb)].sort(B),N(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){Eb.stop(),c&&(+c[0]==+c[1]&&Q(c[0],a),Rb(c[0],c[3],a))})}}function Q(a,b){Ob("dayClick",Y[Wb(a).col],a,b)}function R(a,b){Eb.start(function(a){if(Qb(),a){var b=I(a),c=b.clone();b.hasTime()?(c.add(d.defaultTimedEventDuration),y(b,c)):(c.add(d.defaultAllDayEventDuration),v(b,c))}},b)}function S(a,b,c){var d=Eb.stop();Qb(),d&&Ob("drop",a,I(d),b,c)}var T=this;T.renderAgenda=f,T.setWidth=n,T.setHeight=m,T.afterRender=p,T.computeDateTop=J,T.getIsCellAllDay=F,T.allDayRow=function(){return eb},T.getCoordinateGrid=function(){return Db},T.getHoverListener=function(){return Eb},T.colLeft=z,T.colRight=C,T.colContentLeft=A,T.colContentRight=D,T.getDaySegmentContainer=function(){return cb},T.getSlotSegmentContainer=function(){return ib},T.getSlotContainer=function(){return hb},T.getRowCnt=function(){return 1},T.getColCnt=function(){return Ab},T.getColWidth=function(){return ob},T.getSnapHeight=function(){return vb},T.getSnapDuration=function(){return tb},T.getSlotHeight=function(){return sb},T.getSlotDuration=function(){return qb},T.getMinTime=function(){return Kb},T.getMaxTime=function(){return Lb},T.defaultSelectionEnd=L,T.renderDayOverlay=v,T.renderSelection=M,T.clearSelection=O,T.reportDayClick=Q,T.dragStart=R,T.dragStop=S,rb.call(T,c,d,e),xb.call(T),wb.call(T),gb.call(T);var U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,sb,tb,ub,vb,Ab,Cb,Db,Eb,Fb,Gb,Hb,Ib,Kb,Lb,Mb,Nb=T.opt,Ob=T.trigger,Pb=T.renderOverlay,Qb=T.clearOverlays,Rb=T.reportSelection,Sb=T.unselect,Tb=T.daySelectionMousedown,Ub=T.slotSegHtml,Vb=T.cellToDate,Wb=T.dateToCell,Xb=T.rangeToSegments,Yb=d.formatDate,Zb=d.calculateWeekNumber,$b={};G(c.addClass("fc-agenda")),Db=new yb(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;W.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),Nb("allDaySlot")&&(e=eb,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=hb.offset().top,i=fb.offset().top,j=i+fb.outerHeight(),k=0;Cb*ub>k;k++)b.push([d(h+vb*k),d(h+vb*(k+1))])}),Eb=new zb(Db),Fb=new Bb(function(a){return Z.eq(a)}),Gb=new Bb(function(a){return $.eq(a)})}function gb(){function c(a,b){var c,d=a.length,f=[],h=[];for(c=0;d>c;c++)a[c].allDay?f.push(a[c]):h.push(a[c]);n("allDaySlot")&&(V(f,b),v()),g(e(h),b)}function d(){x().empty(),y().empty()}function e(a){var b,c,d,e,g,h=G(),i=W(),j=X(),k=[];for(c=0;h>c;c++)for(b=F(0,c),g=f(a,b.clone().time(i),b.clone().time(j)),g=hb(g),d=0;g.length>d;d++)e=g[d],e.col=c,k.push(e);return k}function f(a,b,c){b=b.clone().stripZone(),c=c.clone().stripZone();var d,e,f,g,h,i,j,k,l=[],m=a.length;for(d=0;m>d;d++)e=a[d],f=e.start.clone().stripZone(),g=_(e).stripZone(),g>b&&c>f&&(b>f?(h=b.clone(),j=!1):(h=f,j=!0),g>c?(i=c.clone(),k=!1):(i=g,k=!0),l.push({event:e,start:h,end:i,isStart:j,isEnd:k}));return l.sort(qb)}function g(b,c){var d,e,f,g,j,k,l,m,q,r,t,u,v,x,z,B,E=b.length,F="",G=y(),H=n("isRTL");for(d=0;E>d;d++)e=b[d],f=e.event,g=A(e.start,e.start),j=A(e.end,e.start),k=C(e.col),l=D(e.col),m=l-k,l-=.025*m,m=l-k,q=m*(e.forwardCoord-e.backwardCoord),n("slotEventOverlap")&&(q=Math.max(2*(q-10),q)),H?(t=l-e.backwardCoord*m,r=t-q):(r=k+e.backwardCoord*m,t=r+q),r=Math.max(r,k),t=Math.min(t,l),q=t-r,e.top=g,e.left=r,e.outerWidth=q,e.outerHeight=j-g,F+=h(f,e);for(G[0].innerHTML=F,u=G.children(),d=0;E>d;d++)e=b[d],f=e.event,v=a(u[d]),x=o("eventRender",f,f,v),x===!1?v.remove():(x&&x!==!0&&(v.remove(),v=a(x).css({position:"absolute",top:e.top,left:e.left}).appendTo(G)),e.element=v,f._id===c?i(f,v,e):v[0]._fci=d,O(f,v));for(p(G,b,i),d=0;E>d;d++)e=b[d],(v=e.element)&&(e.vsides=w(v,!0),e.hsides=s(v,!0),z=v.find(".fc-event-title"),z.length&&(e.contentTop=z[0].offsetTop));for(d=0;E>d;d++)e=b[d],(v=e.element)&&(v[0].style.width=Math.max(0,e.outerWidth-e.hsides)+"px",B=Math.max(0,e.outerHeight-e.vsides),v[0].style.height=B+"px",f=e.event,void 0!==e.contentTop&&10>B-e.contentTop&&(v.find("div.fc-event-time").text(Z(f.start,n("timeFormat"))+" - "+f.title),v.find("div.fc-event-title").remove()),o("eventAfterRender",f,f,v))}function h(a,b){var c="<",d=a.url,e=I(a,n),f=["fc-event","fc-event-vert"];return q(a)&&f.push("fc-event-draggable"),b.isStart&&f.push("fc-event-start"),b.isEnd&&f.push("fc-event-end"),f=f.concat(a.className),a.source&&(f=f.concat(a.source.className||[])),c+=d?"a href='"+E(a.url)+"'":"div",c+=" class='"+f.join(" ")+"' style='position:absolute;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner'><div class='fc-event-time'>",c+=E(a.end?$(a.start,a.end,n("timeFormat")):Z(a.start,n("timeFormat"))),c+="</div><div class='fc-event-title'>"+E(a.title||"")+"</div></div><div class='fc-event-bg'></div>",b.isEnd&&t(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">"}function i(a,b,c){var d=b.find("div.fc-event-time");q(a)&&k(a,b,d),c.isEnd&&t(a)&&l(a,b,d),u(a,b)}function j(a,c,d){function e(){j||(c.width(f).height("").draggable("option","grid",null),j=!0)}var f,g,h,i=d.isStart,j=!0,k=z(),l=H(),m=W(),p=M(),q=L(),s=K(),t=J();c.draggable({opacity:n("dragOpacity","month"),revertDuration:n("dragRevertDuration"),start:function(b,d){o("eventDragStart",c,a,b,d),Q(a,c),f=c.width(),k.start(function(b,d){if(U(),b){g=!1;var f=F(0,d.col),k=F(0,b.col);h=k.diff(f,"days"),b.row?i?j&&(c.width(l-10),r(c,Y.defaultTimedEventDuration/p*q),c.draggable("option","grid",[l,1]),j=!1):g=!0:(T(a.start.clone().add("days",h),_(a).add("days",h)),e()),g=g||j&&!h}else e(),g=!0;c.draggable("option","revert",g)},b,"drag")},stop:function(d,f){if(k.stop(),U(),o("eventDragStop",c,a,d,f),g)e(),c.css("filter",""),P(a,c);else{var i,l,n=a.start.clone().add("days",h);j||(l=Math.round((c.offset().top-N().offset().top)/t),i=b.duration(m+l*s),n=Y.rezoneDate(n.clone().time(i))),R(this,a,n,d,f)}}})}function k(a,b,c){function d(){U(),h&&(j?(c.hide(),b.draggable("option","grid",null),T(t,u)):(e(),c.css("display",""),b.draggable("option","grid",[x,y])))}function e(){var b;t&&(b=a.end?$(t,u,n("timeFormat")):Z(t,n("timeFormat")),c.text(b))}var f,g,h,i,j,k,l,p,q,r,s,t,u,v=m.getCoordinateGrid(),w=G(),x=H(),y=J(),z=K();b.draggable({scroll:!1,grid:[x,y],axis:1==w?"y":!1,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(c,d){o("eventDragStart",b,a,c,d),Q(a,b),v.build(),f=b.position(),g=v.cell(c.pageX,c.pageY),h=i=!0,j=k=B(g),l=p=0,q=0,r=s=0,t=null,u=null},drag:function(c,e){var m=v.cell(c.pageX,c.pageY);if(h=!!m){if(j=B(m),l=Math.round((e.position.left-f.left)/x),l!=p){var n=F(0,g.col),o=g.col+l;o=Math.max(0,o),o=Math.min(w-1,o);var A=F(0,o);q=A.diff(n,"days")}j||(r=Math.round((e.position.top-f.top)/y))}(h!=i||j!=k||l!=p||r!=s)&&(j?(t=a.start.clone().stripTime().add("days",q),u=t.clone().add(Y.defaultAllDayEventDuration)):(t=a.start.clone().add(r*z).add("days",q),u=_(a).add(r*z).add("days",q)),d(),i=h,k=j,p=l,s=r),b.draggable("option","revert",!h)},stop:function(c,e){U(),o("eventDragStop",b,a,c,e),h&&(j||q||r)?R(this,a,t,c,e):(h=!0,j=!1,l=0,q=0,r=0,d(),b.css("filter",""),b.css(f),P(a,b))}})}function l(a,b,c){var d,e,f,g=J(),h=K();b.resizable({handles:{s:".ui-resizable-handle"},grid:g,start:function(c,f){d=e=0,Q(a,b),o("eventResizeStart",this,a,c,f)},resize:function(i,j){if(d=Math.round((Math.max(g,b.height())-j.originalSize.height)/g),d!=e){f=_(a).add(h*d);var k;k=d||a.end?$(a.start,f,n("timeFormat")):Z(a.start,n("timeFormat")),c.text(k),e=d}},stop:function(c,e){o("eventResizeStop",this,a,c,e),d?S(this,a,f,c,e):P(a,b)}})}var m=this;m.renderEvents=c,m.clearEvents=d,m.slotSegHtml=h,sb.call(m);var n=m.opt,o=m.trigger,q=m.isEventDraggable,t=m.isEventResizable,u=m.eventElementHandlers,v=m.setHeight,x=m.getDaySegmentContainer,y=m.getSlotSegmentContainer,z=m.getHoverListener,A=m.computeDateTop,B=m.getIsCellAllDay,C=m.colContentLeft,D=m.colContentRight,F=m.cellToDate,G=m.getColCnt,H=m.getColWidth,J=m.getSnapHeight,K=m.getSnapDuration,L=m.getSlotHeight,M=m.getSlotDuration,N=m.getSlotContainer,O=m.reportEventElement,P=m.showEvents,Q=m.hideEvents,R=m.eventDrop,S=m.eventResize,T=m.renderDayOverlay,U=m.clearOverlays,V=m.renderDayEvents,W=m.getMinTime,X=m.getMaxTime,Y=m.calendar,Z=Y.formatDate,$=Y.formatRange,_=Y.getEventEnd;m.draggableDayEvent=j}function hb(a){var b,c=ib(a),d=c[0];if(jb(c),d){for(b=0;d.length>b;b++)kb(d[b]);for(b=0;d.length>b;b++)lb(d[b],0,0)}return mb(c)}function ib(a){var b,c,d,e=[];for(b=0;a.length>b;b++){for(c=a[b],d=0;e.length>d&&nb(c,e[d]).length;d++);(e[d]||(e[d]=[])).push(c)}return e}function jb(a){var b,c,d,e,f;for(b=0;a.length>b;b++)for(c=a[b],d=0;c.length>d;d++)for(e=c[d],e.forwardSegs=[],f=b+1;a.length>f;f++)nb(e,a[f],e.forwardSegs)}function kb(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;d.length>b;b++)c=d[b],kb(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function lb(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(e.sort(pb),lb(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;e.length>d;d++)lb(e[d],0,a.forwardCoord)}function mb(a){var b,c,d,e=[];for(b=0;a.length>b;b++)for(c=a[b],d=0;c.length>d;d++)e.push(c[d]);return e}function nb(a,b,c){c=c||[];for(var d=0;b.length>d;d++)ob(a,b[d])&&c.push(b[d]);return c}function ob(a,b){return a.end>b.start&&a.start<b.end}function pb(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||qb(a,b)}function qb(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function rb(c,d,e){function f(b,c){var d=L[b];return a.isPlainObject(d)&&!g(b)?D(d,c||e):d}function h(a,b){return d.trigger.apply(d,[a,b||G].concat(Array.prototype.slice.call(arguments,2),[G]))}function i(a){var b=a.source||{};return K(a.startEditable,b.startEditable,f("eventStartEditable"),a.editable,b.editable,f("editable"))}function j(a){var b=a.source||{};return K(a.durationEditable,b.durationEditable,f("eventDurationEditable"),a.editable,b.editable,f("editable"))}function k(){I={},J=[]}function l(a,b){J.push({event:a,element:b}),I[a._id]?I[a._id].push(b):I[a._id]=[b]}function m(){a.each(J,function(a,b){G.trigger("eventDestroy",b.event,b.event,b.element)})}function n(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?void 0:h("eventClick",this,a,c)}).hover(function(b){h("eventMouseover",this,a,b)},function(b){h("eventMouseout",this,a,b)})}function o(a,b){q(a,b,"show")}function p(a,b){q(a,b,"hide")}function q(a,b,c){var d,e=I[a._id],f=e.length;for(d=0;f>d;d++)b&&e[d][0]==b[0]||e[d][c]()}function r(a,b,c,e,f){var g=d.mutateEvent(b,c,null);h("eventDrop",a,b,function(){g(),H(b._id)},e,f),H(b._id)}function s(a,b,c,e,f){var g=d.mutateEvent(b,null,c);h("eventResize",a,b,function(){g(),H(b._id)},e,f),H(b._id)}function t(a){return b.isMoment(a)&&(a=a.day()),P[a]}function u(){return N}function v(a,b,c){var d=a.clone();for(b=b||1;P[(d.day()+(c?b:0)+7)%7];)d.add("days",b);return d}function w(){var a=x.apply(null,arguments),b=y(a),c=z(b);return c}function x(a,b){var c=G.getColCnt(),d=S?-1:1,e=S?c-1:0;"object"==typeof a&&(b=a.col,a=a.row);var f=a*c+(b*d+e);return f}function y(a){var b=G.start.day();return a+=Q[b],7*Math.floor(a/N)+R[(a%N+N)%N]-b}function z(a){return G.start.clone().add("days",a)}function A(a){var b=B(a),c=C(b),d=E(c);return d}function B(a){return a.clone().stripTime().diff(G.start,"days")}function C(a){var b=G.start.day();return a+=b,Math.floor(a/7)*N+Q[(a%7+7)%7]-Q[b]}function E(a){var b=G.getColCnt(),c=S?-1:1,d=S?b-1:0,e=Math.floor(a/b),f=(a%b+b)%b*c+d;return{row:e,col:f}}function F(a,b){var c=G.getRowCnt(),d=G.getColCnt(),e=[],f=B(a),g=B(b),h=+b.time();h&&h>=M&&g++,g=Math.max(g,f+1);for(var i=C(f),j=C(g)-1,k=0;c>k;k++){var l=k*d,m=l+d-1,n=Math.max(i,l),o=Math.min(j,m);if(o>=n){var p=E(n),q=E(o),r=[p.col,q.col].sort(),s=y(n)==f,t=y(o)+1==g;e.push({row:k,leftCol:r[0],rightCol:r[1],isStart:s,isEnd:t})}}return e}var G=this;G.element=c,G.calendar=d,G.name=e,G.opt=f,G.trigger=h,G.isEventDraggable=i,G.isEventResizable=j,G.clearEventData=k,G.reportEventElement=l,G.triggerEventDestroy=m,G.eventElementHandlers=n,G.showEvents=o,G.hideEvents=p,G.eventDrop=r,G.eventResize=s;var H=d.reportEventChange,I={},J=[],L=d.options,M=b.duration(L.nextDayThreshold);G.isHiddenDay=t,G.skipHiddenDays=v,G.getCellsPerWeek=u,G.dateToCell=A,G.dateToDayOffset=B,G.dayOffsetToCellOffset=C,G.cellOffsetToCell=E,G.cellToDate=w,G.cellToCellOffset=x,G.cellOffsetToDayOffset=y,G.dayOffsetToDate=z,G.rangeToSegments=F;var N,O=f("hiddenDays")||[],P=[],Q=[],R=[],S=f("isRTL");!function(){f("weekends")===!1&&O.push(0,6);for(var b=0,c=0;7>b;b++)Q[b]=c,P[b]=-1!=a.inArray(b,O),P[b]||(R[c]=b,c++);if(N=c,!N)throw"invalid hiddenDays"}()}function sb(){function b(a,b){var c=d(a,!1,!0);ub(c,function(a,b){B(a.event,b)}),r(c,b),ub(c,function(a,b){y("eventAfterRender",a.event,a.event,b)})}function c(a,b,c){var e=d([a],!0,!1),f=[];return ub(e,function(a,d){a.row===b&&d.css("top",c),f.push(d[0])}),f}function d(b,c,d){var f,i,l=S(),m=c?a("<div/>"):l,n=e(b);return g(n),f=h(n),m[0].innerHTML=f,i=m.children(),c&&l.append(i),j(n,i),ub(n,function(a,b){a.hsides=s(b,!0)}),ub(n,function(a,b){b.width(Math.max(0,a.outerWidth-a.hsides))}),ub(n,function(a,b){a.outerHeight=b.outerHeight(!0)}),k(n,d),n}function e(a){for(var b=[],c=0;a.length>c;c++){var d=f(a[c]);b.push.apply(b,d)}return b}function f(a){for(var b=X(a.start,cb(a)),c=0;b.length>c;c++)b[c].event=a;return b}function g(a){for(var b=x("isRTL"),c=0;a.length>c;c++){var d=a[c],e=(b?d.isEnd:d.isStart)?Q:O,f=(b?d.isStart:d.isEnd)?R:P,g=e(d.leftCol),h=f(d.rightCol);d.left=g,d.outerWidth=h-g}}function h(a){for(var b="",c=0;a.length>c;c++)b+=i(a[c]);return b}function i(a){var b="",c=x("isRTL"),d=a.event,e=d.url,f=["fc-event","fc-event-hori"];z(d)&&f.push("fc-event-draggable"),a.isStart&&f.push("fc-event-start"),a.isEnd&&f.push("fc-event-end"),f=f.concat(d.className),d.source&&(f=f.concat(d.source.className||[]));var g=I(d,x);return b+=e?"<a href='"+E(e)+"'":"<div",b+=" class='"+f.join(" ")+"' style='position:absolute;left:"+a.left+"px;"+g+"'><div class='fc-event-inner'>",!d.allDay&&a.isStart&&(b+="<span class='fc-event-time'>"+E(db(d.start,x("timeFormat")))+"</span>"),b+="<span class='fc-event-title'>"+E(d.title||"")+"</span></div>",d.allDay&&a.isEnd&&A(d)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(c?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(e?"a":"div")+">"}function j(b,c){for(var d=0;b.length>d;d++){var e=b[d],f=e.event,g=c.eq(d),h=y("eventRender",f,f,g);h===!1?g.remove():(h&&h!==!0&&(h=a(h).css({position:"absolute",left:e.left}),g.replaceWith(h),g=h),e.element=g)}}function k(a,b){var c,d=l(a),e=q(),f=[];if(b)for(c=0;e.length>c;c++)e[c].height(d[c]);for(c=0;e.length>c;c++)f.push(e[c].position().top);ub(a,function(a,b){b.css("top",f[a.row]+a.top)})}function l(a){for(var b,c=L(),d=M(),e=[],f=m(a),g=0;c>g;g++){var h=f[g],i=[];for(b=0;d>b;b++)i.push(0);for(var j=0;h.length>j;j++){var k=h[j];for(k.top=C(i.slice(k.leftCol,k.rightCol+1)),b=k.leftCol;k.rightCol>=b;b++)i[b]=k.top+k.outerHeight}e.push(C(i))}return e}function m(a){var b,c,d,e=L(),f=[];for(b=0;a.length>b;b++)c=a[b],d=c.row,c.element&&(f[d]?f[d].push(c):f[d]=[c]);for(d=0;e>d;d++)f[d]=n(f[d]||[]);return f}function n(a){for(var b=[],c=o(a),d=0;c.length>d;d++)b.push.apply(b,c[d]);return b}function o(a){a.sort(vb);for(var b=[],c=0;a.length>c;c++){for(var d=a[c],e=0;b.length>e&&tb(d,b[e]);e++);b[e]?b[e].push(d):b[e]=[d]}return b}function q(){var a,b=L(),c=[];for(a=0;b>a;a++)c[a]=N(a).find("div.fc-day-content > div");return c}function r(a,b){var c=S();ub(a,function(a,c,d){var e=a.event;e._id===b?t(e,c,a):c[0]._fci=d}),p(c,a,t)}function t(a,b,c){z(a)&&w.draggableDayEvent(a,b,c),a.allDay&&c.isEnd&&A(a)&&w.resizableDayEvent(a,b,c),D(a,b)}function u(a,b){var c,d,e=W();b.draggable({delay:50,opacity:x("dragOpacity"),revertDuration:x("dragRevertDuration"),start:function(f,g){y("eventDragStart",b,a,f,g),H(a,b),e.start(function(e,f,g,h){if(b.draggable("option","revert",!e||!g&&!h),U(),e){var i=Y(f),j=Y(e);c=j.diff(i,"days"),d=a.start.clone().add("days",c),T(d,cb(a).add("days",c))}else c=0},f,"drag")},stop:function(f,g){e.stop(),U(),y("eventDragStop",b,a,f,g),c?J(this,a,d,f,g):(b.css("filter",""),F(a,b))}})}function v(b,d,e){var f=x("isRTL"),g=f?"w":"e",h=d.find(".ui-resizable-"+g),i=!1;G(d),d.mousedown(function(a){a.preventDefault()}).click(function(a){i&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(f){function h(c){y("eventResizeStop",this,b,c),a("body").css("cursor",""),m.stop(),U(),j&&K(this,b,k,c),setTimeout(function(){i=!1},0)}if(1==f.which){i=!0;var j,k,l,m=W(),n=d.css("top"),o=a.extend({},b),p=ab(_(b.start));V(),a("body").css("cursor",g+"-resize").one("mouseup",h),y("eventResizeStart",this,b,f),m.start(function(d,f){if(d){var h=Z(f),i=Z(d);if(i=Math.max(i,p),j=$(i)-$(h),k=cb(b).add("days",j),j){o.end=k;var m=l;l=c(o,e.row,n),l=a(l),l.find("*").css("cursor",g+"-resize"),m&&m.remove(),H(b)}else l&&(F(b),l.remove(),l=null);U(),T(b.start,k)}},f)}})}var w=this;w.renderDayEvents=b,w.draggableDayEvent=u,w.resizableDayEvent=v;var x=w.opt,y=w.trigger,z=w.isEventDraggable,A=w.isEventResizable,B=w.reportEventElement,D=w.eventElementHandlers,F=w.showEvents,H=w.hideEvents,J=w.eventDrop,K=w.eventResize,L=w.getRowCnt,M=w.getColCnt,N=w.allDayRow,O=w.colLeft,P=w.colRight,Q=w.colContentLeft,R=w.colContentRight,S=w.getDaySegmentContainer,T=w.renderDayOverlay,U=w.clearOverlays,V=w.clearSelection,W=w.getHoverListener,X=w.rangeToSegments,Y=w.cellToDate,Z=w.cellToCellOffset,$=w.cellOffsetToDayOffset,_=w.dateToDayOffset,ab=w.dayOffsetToCellOffset,bb=w.calendar,cb=bb.getEventEnd,db=bb.formatDate}function tb(a,b){for(var c=0;b.length>c;c++){var d=b[c];if(d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0}return!1}function ub(a,b){for(var c=0;a.length>c;c++){var d=a[c],e=d.element;e&&b(d,e,c)}}function vb(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function wb(){function b(a,b){c(),a=g.moment(a),b=b?g.moment(b):j(a),k(a,b),d(a,b)}function c(a){m&&(m=!1,l(),i("unselect",null,a))}function d(a,b,c){m=!0,i("select",null,a,b,c)}function e(b){var e=f.cellToDate,g=f.getIsCellAllDay,i=f.getHoverListener(),j=f.reportDayClick;if(1==b.which&&h("selectable")){c(b);var m;i.start(function(a,b){l(),a&&g(a)?(m=[e(b),e(a)].sort(B),k(m[0],m[1].clone().add("days",1))):m=null},b),a(document).one("mouseup",function(a){i.stop(),m&&(+m[0]==+m[1]&&j(m[0],a),d(m[0],m[1].clone().add("days",1),a))})}}var f=this;f.select=b,f.unselect=c,f.reportSelection=d,f.daySelectionMousedown=e;var g=f.calendar,h=f.opt,i=f.trigger,j=f.defaultSelectionEnd,k=f.renderSelection,l=f.clearSelection,m=!1;h("selectable")&&h("unselectAuto")&&a(document).mousedown(function(b){var d=h("unselectCancel");d&&a(b.target).parents(d).length||c(b)})}function xb(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function yb(a){var b,c,d=this;d.build=function(){b=[],c=[],a(b,c)},d.cell=function(a,d){var e,f=b.length,g=c.length,h=-1,i=-1;for(e=0;f>e;e++)if(d>=b[e][0]&&b[e][1]>d){h=e;break}for(e=0;g>e;e++)if(a>=c[e][0]&&c[e][1]>a){i=e;break}return h>=0&&i>=0?{row:h,col:i}:null},d.rect=function(a,d,e,f,g){var h=g.offset();return{top:b[a][0]-h.top,left:c[d][0]-h.left,width:c[f][1]-c[d][0],height:b[e][1]-b[a][0]}}}function zb(b){function c(a){Ab(a);var c=b.cell(a.pageX,a.pageY);(Boolean(c)!==Boolean(g)||c&&(c.row!=g.row||c.col!=g.col))&&(c?(f||(f=c),e(c,f,c.row-f.row,c.col-f.col)):e(c,f),g=c)}var d,e,f,g,h=this;h.start=function(h,i,j){e=h,f=g=null,b.build(),c(i),d=j||"mousemove",a(document).bind(d,c)},h.stop=function(){return a(document).unbind(d,c),g}}function Ab(a){void 0===a.pageX&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function Bb(a){function b(b){return d[b]=d[b]||a(b)}var c=this,d={},e={},f={};c.left=function(a){return e[a]=void 0===e[a]?b(a).position().left:e[a]},c.right=function(a){return f[a]=void 0===f[a]?c.left(a)+b(a).width():f[a]},c.clear=function(){d={},e={},f={}}}var Cb={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:d,day:"dddd"},timeFormat:{"default":c},isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Db={en:{columnFormat:{week:"ddd M/D"}}},Eb={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},Fb=a.fullCalendar={version:"2.0.0-beta2"},Gb=Fb.views={};a.fn.fullCalendar=function(b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.each(function(e,f){var g,i=a(f),j=i.data("fullCalendar");"string"==typeof b?j&&a.isFunction(j[b])&&(g=j[b].apply(j,c),e||(d=g),"destroy"===b&&i.removeData("fullCalendar")):j||(j=new h(i,b),i.data("fullCalendar",j),j.render())}),d},Fb.langs=Db,Fb.datepickerLang=function(b,c,d){var e=Db[b];e||(e=Db[b]={}),f(e,{isRTL:d.isRTL,weekNumberTitle:d.weekHeader,titleFormat:{month:d.showMonthAfterYear?"YYYY["+d.yearSuffix+"] MMMM":"MMMM YYYY["+d.yearSuffix+"]"},buttonText:{prev:F(d.prevText),next:F(d.nextText),today:F(d.currentText)}}),a.datepicker&&(a.datepicker.regional[c]=a.datepicker.regional[b]=d,a.datepicker.regional.en=a.datepicker.regional[""],a.datepicker.setDefaults(d))},Fb.lang=function(a,b){var c;b&&(c=Db[a],c||(c=Db[a]={}),f(c,b||{})),Cb.lang=a},Fb.sourceNormalizers=[],Fb.sourceFetchers=[];var Hb={dataType:"json",cache:!1},Ib=1;Fb.applyAll=J;var Jb=["sun","mon","tue","wed","thu","fri","sat"],Kb=/^\s*\d{4}-\d\d$/,Lb=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;Fb.moment=function(){return L(arguments)},Fb.moment.utc=function(){return L(arguments,!0)},Fb.moment.parseZone=function(){return L(arguments,!0,!0)},M.prototype=l(b.fn),M.prototype.clone=function(){return L([this])},M.prototype.time=function(a){return null==a?b.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}):(delete this._ambigTime,b.isDuration(a)||b.isMoment(a)||(a=b.duration(a)),this.hours(a.hours()+24*a.days()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds()))},M.prototype.stripTime=function(){var a=this.toArray();return b.fn.utc.call(this),this._ambigTime=!0,this._ambigZone=!0,this.year(a[0]).month(a[1]).date(a[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this},M.prototype.hasTime=function(){return!this._ambigTime},M.prototype.stripZone=function(){var a=this.toArray();return b.fn.utc.call(this),this._ambigZone=!0,this.year(a[0]).month(a[1]).date(a[2]).hours(a[3]).minutes(a[4]).seconds(a[5]).milliseconds(a[6]),this},M.prototype.hasZone=function(){return!this._ambigZone},M.prototype.zone=function(a){return null!=a&&delete this._ambigZone,b.fn.zone.apply(this,arguments)},M.prototype.local=function(){return delete this._ambigZone,b.fn.local.apply(this,arguments)},M.prototype.utc=function(){return delete this._ambigZone,b.fn.utc.apply(this,arguments)},M.prototype.format=function(){return arguments[0]?Q(this,arguments[0]):this._ambigTime?P(this,"YYYY-MM-DD"):this._ambigZone?P(this,"YYYY-MM-DD[T]HH:mm:ss"):P(this)},M.prototype.toISOString=function(){return this._ambigTime?P(this,"YYYY-MM-DD"):this._ambigZone?P(this,"YYYY-MM-DD[T]HH:mm:ss"):b.fn.toISOString.apply(this,arguments)},M.prototype.isWithin=function(a,b){var c=O([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]},a.each(["isBefore","isAfter","isSame"],function(a,c){M.prototype[c]=function(a,d){var e=O([this,a]);return b.fn[c].call(e[0],e[1],d)}});var Mb={t:function(a){return P(a,"a").charAt(0)},T:function(a){return P(a,"A").charAt(0)}};Fb.formatRange=T;var Nb={Y:"year",M:"month",D:"day",d:"day"},Ob={};Gb.month=Y,Gb.basicWeek=Z,Gb.basicDay=$,e({weekMode:"fixed"}),Gb.agendaWeek=bb,Gb.agendaDay=cb,e({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:db,timeFormat:{agenda:eb},dragOpacity:{agenda:.5},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0})}),function(){"use strict";if("de"===currentLang){var a={"calendar.title":"Kalender","calendar.import_ical":"import ical","calendar.export_ical":"export as ical","appointment.new":"Neuer Termin","appointment.edit":"Termin bearbeiten","appointment.delete":"Löschen","appointment.removed":"Termin {{name}} wurde gelöscht","appointment.back_to_calendar":"zurück zum Kalender","appointment.create":"Erstellen","appointment.create_and_edit":"Erstellen + bearbeiten","appointment.save":"Termin speichern","appointment.title":"Titel","appointment.starts_at":"Beginnt","appointment.ends_at":"Endet","appointment.all_day":"ganztags","appointment.location":"Ort","appointment.address":"Addresse","appointment.note":"Notiz","appointment.label":"Label","appointment.created":"Termin {{name}} wurde erfolgreich angelegt","appointment.saved":"Termin {{name}} wurde gespeichert","appointment.moved":"Termin {{name}} wurde verschoben auf {{start}}","appointment.resized":"Termin {{name}} dauert nun von {{start}} &ndash; {{end}}",upcoming_events:"Anstehende Termine","appointment.participants":"Teilnehmer","appointment.add_participant":"Teilnehmer hinzufügen","contact.nothing_found_create_new":"Keine Ergebnisse, neu erstellen mit [EINGABETASTE]","contact.select_or_create":"Kontakt auswählen oder neuen Kontakt erstellen","appointments.show_all":"Alle Termine anzeigen"};for(var b in a)Em.I18n.translations[b]=a[b]}}.call(),function(){"use strict";if("en"===currentLang){var a={"calendar.title":"Calendar","calendar.import_ical":"import ical","calendar.export_ical":"export as ical","appointment.new":"New appointment","appointment.edit":"Edit event","appointment.delete":"Delete","appointment.removed":"Appointment {{name}} has been removed successfully","appointment.back_to_calendar":"back to calendar","appointment.create":"Create","appointment.create_and_edit":"Create + edit","appointment.save":"Save appointment","appointment.title":"Title","appointment.starts_at":"Starts","appointment.ends_at":"Ends","appointment.all_day":"All day","appointment.location":"Location","appointment.address":"Address","appointment.note":"Note","appointment.label":"Label","appointment.created":"Appointment {{name}} has been created successfully","appointment.saved":"Appointment {{name}} has been saved successfully","appointment.moved":"Appointment {{name}} has been moved to {{start}}","appointment.resized":"Appointment {{name}} now lasts from {{start}} &ndash; {{end}}",upcoming_events:"Upcoming events","appointment.participants":"Participants","appointment.add_participant":"add participants","contact.nothing_found_create_new":"No results, hit [ENTER]-key to create new","contact.select_or_create":"Select a contact or create a new one","appointments.show_all":"Show all appointments"};for(var b in a)Em.I18n.translations[b]=a[b]}}.call(),function(){"use strict";window.App.AppointmentsEditView=Em.View.extend({didInsertElement:function(){$(".popover").remove();var a=this.get("controller.model");this.$(".get-focus").focus(),setupDateTimepickers(a),setupLabelSelect(a)}})}.call(),function(){"use strict";window.App.AppointmentsNewView=Em.View.extend({didInsertElement:function(){$(".popover").remove();
var a=this.get("controller.model");this.$(".get-focus").focus(),setupDateTimepickers(a),setupLabelSelect(a)}})}.call();var dpOptions={format:"yyyy-mm-dd",language:currentLang,autoclose:!0,weekStart:1},tpOptions={minuteStep:15},dpStartInit=0;(function(){"use strict";window.App.DatePickerView=Em.View.extend({tagName:"div",attributeBindings:["id","events","owner"],classNamesBindings:["class"],didInsertElement:function(){this.$().attr("data-date",moment().format("YYYY-MM-DD")),this.$().datepicker({format:"yyyy-mm-dd",language:currentLang,weekStart:1}).on("changeDate",function(a){$("#full-calendar").fullCalendar("gotoDate",a.date)})}})}).call(),function(){"use strict";function a(a){$.ajax({url:"/caminio/appointments/"+a.event._id,data:{appointment:{start:new Date(a.event.start.toISOString()),end:new Date(a.event.end.toISOString()),allDay:a.event.allDay}},type:"put"}).done(function(b){b._id?notify("info",a.message):notify("error","sorry. this didn't work")})}function b(a,b){$(b).addClass("fc-popover fc-new-popover"),$(b).find(".close").on("click",function(){a.popover("destroy")}),$(b).find(".color-select").on("click",function(){$(b).find(".color-select-container").slideToggle()}),$(b).find(".color").on("click",function(){$(b).find(".color").removeClass("active"),$(this).addClass("active"),$(b).find(".color-select").css({backgroundColor:$(this).css("backgroundColor")}).attr("data-private",$(this).attr("data-private"))})}function c(a){var b='<div class="close"><i class="fa fa-times"></i></div><span class="color-select" data-private="'+(a.label?a.label.private:"false")+'" style="'+e(a)+'"></span><h4>'+a.title+"</h4>"+d()+"<h5>"+a.start.format("ddd, DD. MMM YYYY")+"<br>"+a.start.format("HH:mm")+" &ndash; "+a.end.format("HH:mm")+"</h5>";a.location&&a.location.length>0&&(b+="<span>"+a.location+"</span><br />"),a.locationAddress&&a.locationAddress.length>0&&(b+="<span>"+a.locationAddress+"</span><br />"),a.note&&a.note.length>0&&(b+="<p><em>"+a.note+"</em></p>"),b+='<div class="footer"><a class="pull-right edit-ap" href="#/appointments/'+a._id+'/edit">'+Em.I18n.t("appointment.edit")+'</a><a class="delete-ap" href="#">'+Em.I18n.t("appointment.delete")+"</a></div>";var c=$(b);return a.label&&c.find("[data-id="+a.label._id+"]").addClass("active"),c.find(".color").on("click",function(){$.ajax({url:"/caminio/appointments/"+a._id,data:{appointment:{label:$(this).attr("data-id")}},type:"put"}).done(function(b){b&&b._id&&(a.label=b.label,$("#full-calendar").fullCalendar("refetchEvents"),$(".popover").remove())})}),c}function d(){var a='<div class="color-select-container">'+caminio.calendar.getLabelBoxes()+"</div>";return a}function e(a){return a.label?"background-color: "+a.label.bgColor+"; color: "+a.label.fgColor:"border: 1px solid #aaa;"}function f(a){var b='<div class="close"><i class="fa fa-times"></i></div><form><span class="color-select" style="background-color: #777;"></span><h4>'+Em.I18n.t("appointment.new")+"</h4>"+d()+"<h5>"+a.format("ddd, DD. MMM YYYY HH:mm")+'</h5><input type="text" name="title"><div class="footer align-right"><button class="btn primary">'+Em.I18n.t("appointment.create")+'</button><button class="btn create-edit">'+Em.I18n.t("appointment.create_and_edit")+"</button></footer</form>";return b}window.App.FullCalendarView=Em.View.extend({tagName:"div",attributeBindings:["id","events","owner"],classNamesBindings:["class"],didInsertElement:function(){var d=this.get("controller");this.$().fullCalendar({lang:currentLang,weekNumbers:!0,defaultView:"agendaWeek",titleFormat:{month:"MMMM YYYY",week:"DD MMMM YYYY",day:"dddd, MMMM DD, YYYY"},columnFormat:{month:"ddd",week:"ddd D.M.",day:"dddd D.M."},eventSources:[{url:"/caminio/appointments",data:function(){var a={labels:[]};return $(".labels-list li:not(.pale)").each(function(){a.labels.push($(this).attr("data-id"))}),console.log("params",a),a},eventDataTransform:function(a){return a.id=a._id,a.start=moment(a.start).toDate(),a.end=moment(a.end).toDate(),a.label&&"object"==typeof a.label&&(a.textColor=a.label.fgColor,a.backgroundColor=a.label.bgColor,a.borderColor=a.label.borderColor),a}}],eventDrop:function(b,c){a({event:b,revertFn:c,message:Em.I18n.t("appointment.moved",{name:b.title,start:moment(b.start).format("ddd, DD. MMM HH:mm")})})},eventResize:function(b,c){a({event:b,revertFn:c,message:Em.I18n.t("appointment.resized",{name:b.title,start:moment(b.start).format("ddd, HH:mm"),end:moment(b.end).format("HH:mm")})})},eventClick:function(a){var e=this;$(this).popover("destroy"),$(".fc-new-popover").remove(),$(".fc-event").each(function(){$(this).popover("destroy")}),$(this).popover({html:!0,content:c(a),container:"body",placement:function(c){return b($(e),c),$(c).find(".delete-ap").on("click",function(b){d.store.find("appointment",a._id).then(function(a){d.send("removeAppointment",a)}),b.preventDefault()}),"top"}}).popover("show")},dayClick:function(a,c){var e=this;$(".popover").remove(),$(this).popover("destroy").popover({html:!0,content:f(a),container:"body",placement:function(f){b($(e),f),setTimeout(function(){var a=$(f).find(".color[data-private=true]:first");a.addClass("active"),$(f).find("input[name=title]").focus(),$(f).find(".color-select").css({backgroundColor:a.css("backgroundColor")}).attr("data-private",a.attr("data-private"))},300);var g=!1;return $(f).find(".create-edit").on("click",function(){g=!0}),$(f).find("form").on("submit",function(b){b.preventDefault(),$.post("/caminio/appointments",{appointment:{title:$(f).find("input[name=title]").val(),start:new Date(a.toISOString()),label:$(f).find(".color.active").attr("data-id"),end:new Date(a.clone().add("h",1).toISOString())}}).done(function(a){a._id?(notify("info",Em.I18n.t("appointment.created",{name:a.title})),$("#full-calendar").fullCalendar("refetchEvents"),$(b.target).closest(".popover").remove(),g&&d.transitionToRoute("appointments.edit",a._id)):notify("error",a)})}),setTimeout(function(){$(f).css({left:c.pageX-$(f).width()/2,top:c.pageY-$(f).height()-10})},10),"top"}}).popover("show")},header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay "},editable:!0}),$(document).on("click",function(a){$(a.target).hasClass("popover")||$(a.target).closest(".popover").length||$(a.target).hasClass("fc-event")||$(a.target).closest(".fc-event").length||$(".fc-event").each(function(){$(this).popover("destroy")})}),d.get("labels").then(function(){setTimeout(function(){$("#full-calendar").fullCalendar("refetchEvents")},100)})}})}.call(),function(a){"use strict";a.AppointmentsNewController=Ember.Controller.extend({titleError:function(){return this.get("model.errors")?"title"in this.get("model.errors"):void 0}.property("model.errors"),actions:{create:function(a){var b=this;a.save().then(function(){notify("info",Em.I18n.t("appointment.created",{name:a.get("title")})),b.transitionToRoute("index")}).catch(function(b){var c=b.responseJSON.errors;for(var d in c)c[d]=Ember.I18n.t("errors."+c[d]);a.set("errors",c),notify.processError(b.responseJSON)})},cancel:function(a){a.deleteRecord(),this.transitionToRoute("index")}}}),a.AppointmentsEditController=Ember.Controller.extend({availableContacts:Em.A(),actions:{save:function(a){var b=this;a.save().then(function(){notify("info",Em.I18n.t("appointment.saved",{name:a.get("title")})),b.transitionToRoute("index")}).catch(function(b){a.rollback();var c=b.responseJSON.errors;for(var d in c)c[d]=Ember.I18n.t("errors."+c[d]);a.set("errors",c),notify.processError(b.responseJSON)})},cancel:function(a){a.rollback(),this.transitionToRoute("index")}}})}(App),function(){function a(a){var b='<form class="bootbox-form"><div class="form-group row"><input type="text" value="'+(a.get("name")||"")+'" autocomplete="off" class="bootbox-input bootbox-input-text form-control name col-md-12"></div><div class="row margin-top clearfix colors"><label class="control-label col-md-3">'+Em.I18n.t("label.select_color")+'</label><div class="col-md-9">'+caminio.labels.getColors()+'</div></div><div class="row margin-top clearfix colors"><label class="control-label col-md-3">'+Em.I18n.t("label.private")+'</label><div class="col-md-9"><input type="checkbox" class="private"></div></div></form>';return b}window.App.IndexController=Ember.Controller.extend({shownLabels:Em.A(),actions:{removeLabel:function(a){bootbox.confirm(Em.I18n.t("label.really_delete",{name:a.get("name")}),function(b){b&&(a.deleteRecord(),a.save().then(function(){notify("info",Em.I18n.t("label.deleted",{name:a.get("name")}))}).catch(function(a){notify("error",a)}))})},toggleLabelAppointments:function(a){var b=this.get("shownLabels");this.get("shownLabels").findBy("id",a.get("id"))?(1===this.get("shownLabels.length")?this.get("labels").forEach(function(a){a.set("hide",!1)}):a.set("hide",!0),this.get("shownLabels").removeObject(a)):(this.get("shownLabels").pushObject(a),this.get("labels").forEach(function(a){b.findBy("id",a.get("id"))||a.set("hide",!0)}),a.set("hide",!1)),setTimeout(function(){$("#full-calendar").fullCalendar("refetchEvents")},10)},resetLabelAppointments:function(){this.get("shownLabels").clear(),this.get("labels").forEach(function(a){a.set("hide",!1)}),setTimeout(function(){$("#full-calendar").fullCalendar("refetchEvents")},10)},editLabel:function(b){function c(){var a=$(".bootbox .color.active");a.length||(a=$(".bootbox .color:first").addClass("active")),b.set("bgColor",a.attr("data-bg-color")),b.set("fgColor",a.attr("data-fg-color")),b.set("borderColor",a.attr("data-border-color"));var c=g.getById("user",currentUser._id);$(".bootbox .private").is(":checked")?b.get("usersAccess").pushObject(c):b.get("usersAccess").removeObject(c),b.set("name",$(".edit-label-modal .name").val()),d()}function d(){var a=b.id?!1:!0;b.save().then(function(b){a?notify("info",Em.I18n.t("label.created",{name:b.get("name")})):notify("info",Em.I18n.t("label.saved",{name:b.get("name")})),$("#full-calendar").fullCalendar("refetchEvents")}).catch(function(a){console.error(a),notify("error",a)})}function e(){var a=$(this);a.find("form").on("submit",function(b){b.preventDefault(),c(),a.modal("hide")}),setTimeout(function(){a.find("input[type=text]:first").focus()},500),a.find(".color").on("click",function(){a.find(".color").removeClass("active"),$(this).addClass("active")}),a.find("input[type=checkbox]").attr("checked",b.get("private")),a.find(".color[data-bg-color="+b.get("bgColor")+"]").addClass("active")}function f(){b.isDirty&&b.deleteRecord()}var g=this.store;b||(b=g.createRecord("label",{userAccess:this.get("user"),type:"calendar"})),bootbox.dialog({title:Em.I18n.t("name"),message:a(b),className:"edit-label-modal",buttons:{save:{label:Em.I18n.t("save"),className:"primary",callback:c}}}).on("shown.bs.modal",e).on("hide.bs.modal",f)},editAppointment:function(){this.transitionTo("appointments.edit")},removeAppointment:function(a){a.deleteRecord(),a.save().then(function(){notify("info",Em.I18n.t("appointment.removed",{name:a.get("title")})),$(".fc-event").each(function(){$(this).popover("destroy")}),$("#full-calendar").fullCalendar("removeEvents",[a.id])}).catch(function(a){notify("error",a)})}}})}.call(),function(){"use strict";window.App.Appointment=DS.Model.extend({title:DS.attr("string"),tags:DS.attr("array"),label:DS.attr("string"),favorite:DS.attr("boolean",{defaultValue:!1}),createdAt:DS.attr("date"),createdBy:DS.belongsTo("user"),updatedBy:DS.belongsTo("user"),updatedAt:DS.attr("date"),location:DS.attr(),locationAddress:DS.attr(),note:DS.attr(),start:DS.attr("date",{defaultValue:moment().startOf("hour").toDate()}),end:DS.attr("date",{defaultValue:moment().add("h",2).startOf("hour").toDate()}),allDay:DS.attr("boolean",{defaultValue:!1})})}.call(),function(a){a.Router.map(function(){this.resource("appointments",{path:"/appointments"},function(){this.resource("appointments.edit",{path:"/:id/edit"}),this.route("new")})}),a.IndexRoute=Ember.Route.extend({setupController:function(a){var b=this.store;this.store.find("user").then(function(){a.set("user",b.getById("user",currentUser._id))});var c=b.find("label",{type:"regexp(/calendar|project/)"});a.set("labels",c)}}),a.AppointmentsNewRoute=Ember.Route.extend({model:function(){return this.store.createRecord("appointment")}}),a.AppointmentsEditRoute=Ember.Route.extend({model:function(a){return this.store.find("appointment",a.id)}}),a.ApplicationView=Em.View.extend({didInsertElement:function(){setupCaminio(this.$())}}),a.ApplicationRoute=Em.Route.extend({beforeModel:function(){this.store.find("user")}})}(App);